.class public Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;
.super Landroid/widget/FrameLayout;
.source "IEECropImageView.java"


# annotations
.annotation system Ldalvik/annotation/MemberClasses;
    value = {
        Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView$OnSetCropOverlayMovedListener;,
        Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView$OnSetCropOverlayReleasedListener;,
        Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView$ScaleType;,
        Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView$CropShape;,
        Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView$Guidelines;,
        Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView$RequestSizeOptions;,
        Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView$OnCropImageCompleteListener;,
        Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView$OnSetCropWindowChangeListener;,
        Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView$OnSetImageUriCompleteListener;,
        Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView$CropResult;
    }
.end annotation


# instance fields
.field private mAnimation:Lcom/droidninja/imageeditengine/views/cropimage/CropImageAnimation;

.field private mAutoZoomEnabled:Z

.field private mBitmap:Landroid/graphics/Bitmap;

.field private mBitmapCroppingWorkerTask:Ljava/lang/ref/WeakReference;
    .annotation system Ldalvik/annotation/Signature;
        value = {
            "Ljava/lang/ref/WeakReference<",
            "Lcom/droidninja/imageeditengine/views/cropimage/BitmapCroppingWorkerTask;",
            ">;"
        }
    .end annotation
.end field

.field private mBitmapLoadingWorkerTask:Ljava/lang/ref/WeakReference;
    .annotation system Ldalvik/annotation/Signature;
        value = {
            "Ljava/lang/ref/WeakReference<",
            "Lcom/droidninja/imageeditengine/views/cropimage/BitmapLoadingWorkerTask;",
            ">;"
        }
    .end annotation
.end field

.field private final mCropOverlayView:Lcom/droidninja/imageeditengine/views/cropimage/IEECropOverlayView;

.field private mDegreesRotated:I

.field private mFlipHorizontally:Z

.field private mFlipVertically:Z

.field private final mImageInverseMatrix:Landroid/graphics/Matrix;

.field private final mImageMatrix:Landroid/graphics/Matrix;

.field private final mImagePoints:[F

.field private mImageResource:I

.field private final mImageView:Landroid/widget/ImageView;

.field private mInitialDegreesRotated:I

.field private mLayoutHeight:I

.field private mLayoutWidth:I

.field private mLoadedImageUri:Landroid/net/Uri;

.field private mLoadedSampleSize:I

.field private mMaxZoom:I

.field private mOnCropImageCompleteListener:Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView$OnCropImageCompleteListener;

.field private mOnCropOverlayReleasedListener:Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView$OnSetCropOverlayReleasedListener;

.field private mOnSetCropOverlayMovedListener:Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView$OnSetCropOverlayMovedListener;

.field private mOnSetCropWindowChangeListener:Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView$OnSetCropWindowChangeListener;

.field private mOnSetImageUriCompleteListener:Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView$OnSetImageUriCompleteListener;

.field private final mProgressBar:Landroid/widget/ProgressBar;

.field private mRestoreCropWindowRect:Landroid/graphics/RectF;

.field private mRestoreDegreesRotated:I

.field private mSaveBitmapToInstanceState:Z

.field private mSaveInstanceStateBitmapUri:Landroid/net/Uri;

.field private final mScaleImagePoints:[F

.field private mScaleType:Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView$ScaleType;

.field private mShowCropOverlay:Z

.field private mShowProgressBar:Z

.field private mSizeChanged:Z

.field private mZoom:F

.field private mZoomOffsetX:F

.field private mZoomOffsetY:F


# direct methods
.method public constructor <init>(Landroid/content/Context;)V
    .locals 1
    .param p1, "context"    # Landroid/content/Context;

    .line 185
    const/4 v0, 0x0

    invoke-direct {p0, p1, v0}, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;-><init>(Landroid/content/Context;Landroid/util/AttributeSet;)V

    .line 186
    return-void
.end method

.method public constructor <init>(Landroid/content/Context;Landroid/util/AttributeSet;)V
    .locals 6
    .param p1, "context"    # Landroid/content/Context;
    .param p2, "attrs"    # Landroid/util/AttributeSet;

    .line 189
    invoke-direct {p0, p1, p2}, Landroid/widget/FrameLayout;-><init>(Landroid/content/Context;Landroid/util/AttributeSet;)V

    .line 59
    new-instance v0, Landroid/graphics/Matrix;

    invoke-direct {v0}, Landroid/graphics/Matrix;-><init>()V

    iput-object v0, p0, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->mImageMatrix:Landroid/graphics/Matrix;

    .line 62
    new-instance v0, Landroid/graphics/Matrix;

    invoke-direct {v0}, Landroid/graphics/Matrix;-><init>()V

    iput-object v0, p0, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->mImageInverseMatrix:Landroid/graphics/Matrix;

    .line 68
    const/16 v0, 0x8

    new-array v1, v0, [F

    iput-object v1, p0, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->mImagePoints:[F

    .line 71
    new-array v0, v0, [F

    iput-object v0, p0, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->mScaleImagePoints:[F

    .line 105
    const/4 v0, 0x0

    iput-boolean v0, p0, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->mSaveBitmapToInstanceState:Z

    .line 112
    const/4 v1, 0x1

    iput-boolean v1, p0, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->mShowCropOverlay:Z

    .line 118
    iput-boolean v1, p0, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->mShowProgressBar:Z

    .line 124
    iput-boolean v1, p0, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->mAutoZoomEnabled:Z

    .line 148
    iput v1, p0, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->mLoadedSampleSize:I

    .line 151
    const/high16 v2, 0x3f800000    # 1.0f

    iput v2, p0, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->mZoom:F

    .line 191
    const/4 v2, 0x0

    .line 193
    .local v2, "options":Lcom/droidninja/imageeditengine/views/cropimage/CropImageOptions;
    if-nez v2, :cond_1

    .line 195
    new-instance v3, Lcom/droidninja/imageeditengine/views/cropimage/CropImageOptions;

    invoke-direct {v3}, Lcom/droidninja/imageeditengine/views/cropimage/CropImageOptions;-><init>()V

    move-object v2, v3

    .line 197
    if-eqz p2, :cond_1

    .line 198
    sget-object v3, Lcom/droidninja/imageeditengine/R$styleable;->IEECropImageView:[I

    invoke-virtual {p1, p2, v3, v0, v0}, Landroid/content/Context;->obtainStyledAttributes(Landroid/util/AttributeSet;[III)Landroid/content/res/TypedArray;

    move-result-object v0

    .line 200
    .local v0, "ta":Landroid/content/res/TypedArray;
    :try_start_0
    sget v3, Lcom/droidninja/imageeditengine/R$styleable;->IEECropImageView_cropFixAspectRatio:I

    iget-boolean v4, v2, Lcom/droidninja/imageeditengine/views/cropimage/CropImageOptions;->fixAspectRatio:Z

    .line 201
    invoke-virtual {v0, v3, v4}, Landroid/content/res/TypedArray;->getBoolean(IZ)Z

    move-result v3

    iput-boolean v3, v2, Lcom/droidninja/imageeditengine/views/cropimage/CropImageOptions;->fixAspectRatio:Z

    .line 202
    sget v3, Lcom/droidninja/imageeditengine/R$styleable;->IEECropImageView_cropAspectRatioX:I

    iget v4, v2, Lcom/droidninja/imageeditengine/views/cropimage/CropImageOptions;->aspectRatioX:I

    .line 203
    invoke-virtual {v0, v3, v4}, Landroid/content/res/TypedArray;->getInteger(II)I

    move-result v3

    iput v3, v2, Lcom/droidninja/imageeditengine/views/cropimage/CropImageOptions;->aspectRatioX:I

    .line 204
    sget v3, Lcom/droidninja/imageeditengine/R$styleable;->IEECropImageView_cropAspectRatioY:I

    iget v4, v2, Lcom/droidninja/imageeditengine/views/cropimage/CropImageOptions;->aspectRatioY:I

    .line 205
    invoke-virtual {v0, v3, v4}, Landroid/content/res/TypedArray;->getInteger(II)I

    move-result v3

    iput v3, v2, Lcom/droidninja/imageeditengine/views/cropimage/CropImageOptions;->aspectRatioY:I

    .line 206
    nop

    .line 207
    invoke-static {}, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView$ScaleType;->values()[Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView$ScaleType;

    move-result-object v3

    sget v4, Lcom/droidninja/imageeditengine/R$styleable;->IEECropImageView_ieecropScaleType:I

    iget-object v5, v2, Lcom/droidninja/imageeditengine/views/cropimage/CropImageOptions;->scaleType:Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView$ScaleType;

    .line 208
    invoke-virtual {v5}, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView$ScaleType;->ordinal()I

    move-result v5

    invoke-virtual {v0, v4, v5}, Landroid/content/res/TypedArray;->getInt(II)I

    move-result v4

    aget-object v3, v3, v4

    iput-object v3, v2, Lcom/droidninja/imageeditengine/views/cropimage/CropImageOptions;->scaleType:Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView$ScaleType;

    .line 209
    sget v3, Lcom/droidninja/imageeditengine/R$styleable;->IEECropImageView_cropAutoZoomEnabled:I

    iget-boolean v4, v2, Lcom/droidninja/imageeditengine/views/cropimage/CropImageOptions;->autoZoomEnabled:Z

    .line 210
    invoke-virtual {v0, v3, v4}, Landroid/content/res/TypedArray;->getBoolean(IZ)Z

    move-result v3

    iput-boolean v3, v2, Lcom/droidninja/imageeditengine/views/cropimage/CropImageOptions;->autoZoomEnabled:Z

    .line 211
    sget v3, Lcom/droidninja/imageeditengine/R$styleable;->IEECropImageView_cropMultiTouchEnabled:I

    iget-boolean v4, v2, Lcom/droidninja/imageeditengine/views/cropimage/CropImageOptions;->multiTouchEnabled:Z

    .line 212
    invoke-virtual {v0, v3, v4}, Landroid/content/res/TypedArray;->getBoolean(IZ)Z

    move-result v3

    iput-boolean v3, v2, Lcom/droidninja/imageeditengine/views/cropimage/CropImageOptions;->multiTouchEnabled:Z

    .line 214
    sget v3, Lcom/droidninja/imageeditengine/R$styleable;->IEECropImageView_cropMaxZoom:I

    iget v4, v2, Lcom/droidninja/imageeditengine/views/cropimage/CropImageOptions;->maxZoom:I

    invoke-virtual {v0, v3, v4}, Landroid/content/res/TypedArray;->getInteger(II)I

    move-result v3

    iput v3, v2, Lcom/droidninja/imageeditengine/views/cropimage/CropImageOptions;->maxZoom:I

    .line 215
    nop

    .line 216
    invoke-static {}, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView$CropShape;->values()[Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView$CropShape;

    move-result-object v3

    sget v4, Lcom/droidninja/imageeditengine/R$styleable;->IEECropImageView_ieecropShape:I

    iget-object v5, v2, Lcom/droidninja/imageeditengine/views/cropimage/CropImageOptions;->cropShape:Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView$CropShape;

    .line 217
    invoke-virtual {v5}, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView$CropShape;->ordinal()I

    move-result v5

    invoke-virtual {v0, v4, v5}, Landroid/content/res/TypedArray;->getInt(II)I

    move-result v4

    aget-object v3, v3, v4

    iput-object v3, v2, Lcom/droidninja/imageeditengine/views/cropimage/CropImageOptions;->cropShape:Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView$CropShape;

    .line 218
    nop

    .line 219
    invoke-static {}, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView$Guidelines;->values()[Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView$Guidelines;

    move-result-object v3

    sget v4, Lcom/droidninja/imageeditengine/R$styleable;->IEECropImageView_ieecropGuidelines:I

    iget-object v5, v2, Lcom/droidninja/imageeditengine/views/cropimage/CropImageOptions;->guidelines:Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView$Guidelines;

    .line 221
    invoke-virtual {v5}, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView$Guidelines;->ordinal()I

    move-result v5

    .line 220
    invoke-virtual {v0, v4, v5}, Landroid/content/res/TypedArray;->getInt(II)I

    move-result v4

    aget-object v3, v3, v4

    iput-object v3, v2, Lcom/droidninja/imageeditengine/views/cropimage/CropImageOptions;->guidelines:Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView$Guidelines;

    .line 222
    sget v3, Lcom/droidninja/imageeditengine/R$styleable;->IEECropImageView_cropSnapRadius:I

    iget v4, v2, Lcom/droidninja/imageeditengine/views/cropimage/CropImageOptions;->snapRadius:F

    .line 223
    invoke-virtual {v0, v3, v4}, Landroid/content/res/TypedArray;->getDimension(IF)F

    move-result v3

    iput v3, v2, Lcom/droidninja/imageeditengine/views/cropimage/CropImageOptions;->snapRadius:F

    .line 224
    sget v3, Lcom/droidninja/imageeditengine/R$styleable;->IEECropImageView_cropTouchRadius:I

    iget v4, v2, Lcom/droidninja/imageeditengine/views/cropimage/CropImageOptions;->touchRadius:F

    .line 225
    invoke-virtual {v0, v3, v4}, Landroid/content/res/TypedArray;->getDimension(IF)F

    move-result v3

    iput v3, v2, Lcom/droidninja/imageeditengine/views/cropimage/CropImageOptions;->touchRadius:F

    .line 226
    sget v3, Lcom/droidninja/imageeditengine/R$styleable;->IEECropImageView_cropInitialCropWindowPaddingRatio:I

    iget v4, v2, Lcom/droidninja/imageeditengine/views/cropimage/CropImageOptions;->initialCropWindowPaddingRatio:F

    .line 227
    invoke-virtual {v0, v3, v4}, Landroid/content/res/TypedArray;->getFloat(IF)F

    move-result v3

    iput v3, v2, Lcom/droidninja/imageeditengine/views/cropimage/CropImageOptions;->initialCropWindowPaddingRatio:F

    .line 230
    sget v3, Lcom/droidninja/imageeditengine/R$styleable;->IEECropImageView_cropBorderLineThickness:I

    iget v4, v2, Lcom/droidninja/imageeditengine/views/cropimage/CropImageOptions;->borderLineThickness:F

    .line 231
    invoke-virtual {v0, v3, v4}, Landroid/content/res/TypedArray;->getDimension(IF)F

    move-result v3

    iput v3, v2, Lcom/droidninja/imageeditengine/views/cropimage/CropImageOptions;->borderLineThickness:F

    .line 233
    sget v3, Lcom/droidninja/imageeditengine/R$styleable;->IEECropImageView_cropBorderLineColor:I

    iget v4, v2, Lcom/droidninja/imageeditengine/views/cropimage/CropImageOptions;->borderLineColor:I

    .line 234
    invoke-virtual {v0, v3, v4}, Landroid/content/res/TypedArray;->getInteger(II)I

    move-result v3

    iput v3, v2, Lcom/droidninja/imageeditengine/views/cropimage/CropImageOptions;->borderLineColor:I

    .line 235
    sget v3, Lcom/droidninja/imageeditengine/R$styleable;->IEECropImageView_cropBorderCornerThickness:I

    iget v4, v2, Lcom/droidninja/imageeditengine/views/cropimage/CropImageOptions;->borderCornerThickness:F

    .line 236
    invoke-virtual {v0, v3, v4}, Landroid/content/res/TypedArray;->getDimension(IF)F

    move-result v3

    iput v3, v2, Lcom/droidninja/imageeditengine/views/cropimage/CropImageOptions;->borderCornerThickness:F

    .line 239
    sget v3, Lcom/droidninja/imageeditengine/R$styleable;->IEECropImageView_cropBorderCornerOffset:I

    iget v4, v2, Lcom/droidninja/imageeditengine/views/cropimage/CropImageOptions;->borderCornerOffset:F

    .line 240
    invoke-virtual {v0, v3, v4}, Landroid/content/res/TypedArray;->getDimension(IF)F

    move-result v3

    iput v3, v2, Lcom/droidninja/imageeditengine/views/cropimage/CropImageOptions;->borderCornerOffset:F

    .line 242
    sget v3, Lcom/droidninja/imageeditengine/R$styleable;->IEECropImageView_cropBorderCornerLength:I

    iget v4, v2, Lcom/droidninja/imageeditengine/views/cropimage/CropImageOptions;->borderCornerLength:F

    .line 243
    invoke-virtual {v0, v3, v4}, Landroid/content/res/TypedArray;->getDimension(IF)F

    move-result v3

    iput v3, v2, Lcom/droidninja/imageeditengine/views/cropimage/CropImageOptions;->borderCornerLength:F

    .line 245
    sget v3, Lcom/droidninja/imageeditengine/R$styleable;->IEECropImageView_cropBorderCornerColor:I

    iget v4, v2, Lcom/droidninja/imageeditengine/views/cropimage/CropImageOptions;->borderCornerColor:I

    .line 246
    invoke-virtual {v0, v3, v4}, Landroid/content/res/TypedArray;->getInteger(II)I

    move-result v3

    iput v3, v2, Lcom/droidninja/imageeditengine/views/cropimage/CropImageOptions;->borderCornerColor:I

    .line 248
    sget v3, Lcom/droidninja/imageeditengine/R$styleable;->IEECropImageView_cropGuidelinesThickness:I

    iget v4, v2, Lcom/droidninja/imageeditengine/views/cropimage/CropImageOptions;->guidelinesThickness:F

    .line 249
    invoke-virtual {v0, v3, v4}, Landroid/content/res/TypedArray;->getDimension(IF)F

    move-result v3

    iput v3, v2, Lcom/droidninja/imageeditengine/views/cropimage/CropImageOptions;->guidelinesThickness:F

    .line 251
    sget v3, Lcom/droidninja/imageeditengine/R$styleable;->IEECropImageView_cropGuidelinesColor:I

    iget v4, v2, Lcom/droidninja/imageeditengine/views/cropimage/CropImageOptions;->guidelinesColor:I

    .line 252
    invoke-virtual {v0, v3, v4}, Landroid/content/res/TypedArray;->getInteger(II)I

    move-result v3

    iput v3, v2, Lcom/droidninja/imageeditengine/views/cropimage/CropImageOptions;->guidelinesColor:I

    .line 253
    sget v3, Lcom/droidninja/imageeditengine/R$styleable;->IEECropImageView_cropBackgroundColor:I

    iget v4, v2, Lcom/droidninja/imageeditengine/views/cropimage/CropImageOptions;->backgroundColor:I

    .line 254
    invoke-virtual {v0, v3, v4}, Landroid/content/res/TypedArray;->getInteger(II)I

    move-result v3

    iput v3, v2, Lcom/droidninja/imageeditengine/views/cropimage/CropImageOptions;->backgroundColor:I

    .line 255
    sget v3, Lcom/droidninja/imageeditengine/R$styleable;->IEECropImageView_cropShowCropOverlay:I

    iget-boolean v4, p0, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->mShowCropOverlay:Z

    .line 256
    invoke-virtual {v0, v3, v4}, Landroid/content/res/TypedArray;->getBoolean(IZ)Z

    move-result v3

    iput-boolean v3, v2, Lcom/droidninja/imageeditengine/views/cropimage/CropImageOptions;->showCropOverlay:Z

    .line 257
    sget v3, Lcom/droidninja/imageeditengine/R$styleable;->IEECropImageView_cropShowProgressBar:I

    iget-boolean v4, p0, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->mShowProgressBar:Z

    .line 258
    invoke-virtual {v0, v3, v4}, Landroid/content/res/TypedArray;->getBoolean(IZ)Z

    move-result v3

    iput-boolean v3, v2, Lcom/droidninja/imageeditengine/views/cropimage/CropImageOptions;->showProgressBar:Z

    .line 259
    sget v3, Lcom/droidninja/imageeditengine/R$styleable;->IEECropImageView_cropBorderCornerThickness:I

    iget v4, v2, Lcom/droidninja/imageeditengine/views/cropimage/CropImageOptions;->borderCornerThickness:F

    .line 260
    invoke-virtual {v0, v3, v4}, Landroid/content/res/TypedArray;->getDimension(IF)F

    move-result v3

    iput v3, v2, Lcom/droidninja/imageeditengine/views/cropimage/CropImageOptions;->borderCornerThickness:F

    .line 263
    sget v3, Lcom/droidninja/imageeditengine/R$styleable;->IEECropImageView_cropMinCropWindowWidth:I

    iget v4, v2, Lcom/droidninja/imageeditengine/views/cropimage/CropImageOptions;->minCropWindowWidth:I

    int-to-float v4, v4

    .line 265
    invoke-virtual {v0, v3, v4}, Landroid/content/res/TypedArray;->getDimension(IF)F

    move-result v3

    float-to-int v3, v3

    iput v3, v2, Lcom/droidninja/imageeditengine/views/cropimage/CropImageOptions;->minCropWindowWidth:I

    .line 267
    sget v3, Lcom/droidninja/imageeditengine/R$styleable;->IEECropImageView_cropMinCropWindowHeight:I

    iget v4, v2, Lcom/droidninja/imageeditengine/views/cropimage/CropImageOptions;->minCropWindowHeight:I

    int-to-float v4, v4

    .line 269
    invoke-virtual {v0, v3, v4}, Landroid/content/res/TypedArray;->getDimension(IF)F

    move-result v3

    float-to-int v3, v3

    iput v3, v2, Lcom/droidninja/imageeditengine/views/cropimage/CropImageOptions;->minCropWindowHeight:I

    .line 272
    sget v3, Lcom/droidninja/imageeditengine/R$styleable;->IEECropImageView_cropMinCropResultWidthPX:I

    iget v4, v2, Lcom/droidninja/imageeditengine/views/cropimage/CropImageOptions;->minCropResultWidth:I

    int-to-float v4, v4

    .line 274
    invoke-virtual {v0, v3, v4}, Landroid/content/res/TypedArray;->getFloat(IF)F

    move-result v3

    float-to-int v3, v3

    iput v3, v2, Lcom/droidninja/imageeditengine/views/cropimage/CropImageOptions;->minCropResultWidth:I

    .line 277
    sget v3, Lcom/droidninja/imageeditengine/R$styleable;->IEECropImageView_cropMinCropResultHeightPX:I

    iget v4, v2, Lcom/droidninja/imageeditengine/views/cropimage/CropImageOptions;->minCropResultHeight:I

    int-to-float v4, v4

    .line 279
    invoke-virtual {v0, v3, v4}, Landroid/content/res/TypedArray;->getFloat(IF)F

    move-result v3

    float-to-int v3, v3

    iput v3, v2, Lcom/droidninja/imageeditengine/views/cropimage/CropImageOptions;->minCropResultHeight:I

    .line 282
    sget v3, Lcom/droidninja/imageeditengine/R$styleable;->IEECropImageView_cropMaxCropResultWidthPX:I

    iget v4, v2, Lcom/droidninja/imageeditengine/views/cropimage/CropImageOptions;->maxCropResultWidth:I

    int-to-float v4, v4

    .line 284
    invoke-virtual {v0, v3, v4}, Landroid/content/res/TypedArray;->getFloat(IF)F

    move-result v3

    float-to-int v3, v3

    iput v3, v2, Lcom/droidninja/imageeditengine/views/cropimage/CropImageOptions;->maxCropResultWidth:I

    .line 287
    sget v3, Lcom/droidninja/imageeditengine/R$styleable;->IEECropImageView_cropMaxCropResultHeightPX:I

    iget v4, v2, Lcom/droidninja/imageeditengine/views/cropimage/CropImageOptions;->maxCropResultHeight:I

    int-to-float v4, v4

    .line 289
    invoke-virtual {v0, v3, v4}, Landroid/content/res/TypedArray;->getFloat(IF)F

    move-result v3

    float-to-int v3, v3

    iput v3, v2, Lcom/droidninja/imageeditengine/views/cropimage/CropImageOptions;->maxCropResultHeight:I

    .line 292
    sget v3, Lcom/droidninja/imageeditengine/R$styleable;->IEECropImageView_cropFlipHorizontally:I

    iget-boolean v4, v2, Lcom/droidninja/imageeditengine/views/cropimage/CropImageOptions;->flipHorizontally:Z

    .line 293
    invoke-virtual {v0, v3, v4}, Landroid/content/res/TypedArray;->getBoolean(IZ)Z

    move-result v3

    iput-boolean v3, v2, Lcom/droidninja/imageeditengine/views/cropimage/CropImageOptions;->flipHorizontally:Z

    .line 295
    sget v3, Lcom/droidninja/imageeditengine/R$styleable;->IEECropImageView_cropFlipHorizontally:I

    iget-boolean v4, v2, Lcom/droidninja/imageeditengine/views/cropimage/CropImageOptions;->flipVertically:Z

    .line 296
    invoke-virtual {v0, v3, v4}, Landroid/content/res/TypedArray;->getBoolean(IZ)Z

    move-result v3

    iput-boolean v3, v2, Lcom/droidninja/imageeditengine/views/cropimage/CropImageOptions;->flipVertically:Z

    .line 298
    sget v3, Lcom/droidninja/imageeditengine/R$styleable;->IEECropImageView_cropSaveBitmapToInstanceState:I

    iget-boolean v4, p0, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->mSaveBitmapToInstanceState:Z

    .line 299
    invoke-virtual {v0, v3, v4}, Landroid/content/res/TypedArray;->getBoolean(IZ)Z

    move-result v3

    iput-boolean v3, p0, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->mSaveBitmapToInstanceState:Z

    .line 304
    sget v3, Lcom/droidninja/imageeditengine/R$styleable;->IEECropImageView_cropAspectRatioX:I

    invoke-virtual {v0, v3}, Landroid/content/res/TypedArray;->hasValue(I)Z

    move-result v3

    if-eqz v3, :cond_0

    sget v3, Lcom/droidninja/imageeditengine/R$styleable;->IEECropImageView_cropAspectRatioX:I

    .line 305
    invoke-virtual {v0, v3}, Landroid/content/res/TypedArray;->hasValue(I)Z

    move-result v3

    if-eqz v3, :cond_0

    sget v3, Lcom/droidninja/imageeditengine/R$styleable;->IEECropImageView_cropFixAspectRatio:I

    .line 306
    invoke-virtual {v0, v3}, Landroid/content/res/TypedArray;->hasValue(I)Z

    move-result v3

    if-nez v3, :cond_0

    .line 307
    iput-boolean v1, v2, Lcom/droidninja/imageeditengine/views/cropimage/CropImageOptions;->fixAspectRatio:Z
    :try_end_0
    .catchall {:try_start_0 .. :try_end_0} :catchall_0

    .line 310
    :cond_0
    invoke-virtual {v0}, Landroid/content/res/TypedArray;->recycle()V

    .line 311
    goto :goto_0

    .line 310
    :catchall_0
    move-exception v1

    invoke-virtual {v0}, Landroid/content/res/TypedArray;->recycle()V

    .line 311
    throw v1

    .line 315
    .end local v0    # "ta":Landroid/content/res/TypedArray;
    :cond_1
    :goto_0
    invoke-virtual {v2}, Lcom/droidninja/imageeditengine/views/cropimage/CropImageOptions;->validate()V

    .line 317
    iget-object v0, v2, Lcom/droidninja/imageeditengine/views/cropimage/CropImageOptions;->scaleType:Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView$ScaleType;

    iput-object v0, p0, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->mScaleType:Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView$ScaleType;

    .line 318
    iget-boolean v0, v2, Lcom/droidninja/imageeditengine/views/cropimage/CropImageOptions;->autoZoomEnabled:Z

    iput-boolean v0, p0, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->mAutoZoomEnabled:Z

    .line 319
    iget v0, v2, Lcom/droidninja/imageeditengine/views/cropimage/CropImageOptions;->maxZoom:I

    iput v0, p0, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->mMaxZoom:I

    .line 320
    iget-boolean v0, v2, Lcom/droidninja/imageeditengine/views/cropimage/CropImageOptions;->showCropOverlay:Z

    iput-boolean v0, p0, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->mShowCropOverlay:Z

    .line 321
    iget-boolean v0, v2, Lcom/droidninja/imageeditengine/views/cropimage/CropImageOptions;->showProgressBar:Z

    iput-boolean v0, p0, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->mShowProgressBar:Z

    .line 322
    iget-boolean v0, v2, Lcom/droidninja/imageeditengine/views/cropimage/CropImageOptions;->flipHorizontally:Z

    iput-boolean v0, p0, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->mFlipHorizontally:Z

    .line 323
    iget-boolean v0, v2, Lcom/droidninja/imageeditengine/views/cropimage/CropImageOptions;->flipVertically:Z

    iput-boolean v0, p0, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->mFlipVertically:Z

    .line 325
    invoke-static {p1}, Landroid/view/LayoutInflater;->from(Landroid/content/Context;)Landroid/view/LayoutInflater;

    move-result-object v0

    .line 326
    .local v0, "inflater":Landroid/view/LayoutInflater;
    sget v3, Lcom/droidninja/imageeditengine/R$layout;->iee_crop_image_view:I

    invoke-virtual {v0, v3, p0, v1}, Landroid/view/LayoutInflater;->inflate(ILandroid/view/ViewGroup;Z)Landroid/view/View;

    move-result-object v1

    .line 328
    .local v1, "v":Landroid/view/View;
    sget v3, Lcom/droidninja/imageeditengine/R$id;->ImageView_image:I

    invoke-virtual {v1, v3}, Landroid/view/View;->findViewById(I)Landroid/view/View;

    move-result-object v3

    check-cast v3, Landroid/widget/ImageView;

    iput-object v3, p0, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->mImageView:Landroid/widget/ImageView;

    .line 329
    sget-object v4, Landroid/widget/ImageView$ScaleType;->MATRIX:Landroid/widget/ImageView$ScaleType;

    invoke-virtual {v3, v4}, Landroid/widget/ImageView;->setScaleType(Landroid/widget/ImageView$ScaleType;)V

    .line 331
    sget v3, Lcom/droidninja/imageeditengine/R$id;->CropOverlayView:I

    invoke-virtual {v1, v3}, Landroid/view/View;->findViewById(I)Landroid/view/View;

    move-result-object v3

    check-cast v3, Lcom/droidninja/imageeditengine/views/cropimage/IEECropOverlayView;

    iput-object v3, p0, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->mCropOverlayView:Lcom/droidninja/imageeditengine/views/cropimage/IEECropOverlayView;

    .line 332
    new-instance v4, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView$1;

    invoke-direct {v4, p0}, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView$1;-><init>(Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;)V

    invoke-virtual {v3, v4}, Lcom/droidninja/imageeditengine/views/cropimage/IEECropOverlayView;->setCropWindowChangeListener(Lcom/droidninja/imageeditengine/views/cropimage/IEECropOverlayView$CropWindowChangeListener;)V

    .line 347
    invoke-virtual {v3, v2}, Lcom/droidninja/imageeditengine/views/cropimage/IEECropOverlayView;->setInitialAttributeValues(Lcom/droidninja/imageeditengine/views/cropimage/CropImageOptions;)V

    .line 349
    sget v3, Lcom/droidninja/imageeditengine/R$id;->CropProgressBar:I

    invoke-virtual {v1, v3}, Landroid/view/View;->findViewById(I)Landroid/view/View;

    move-result-object v3

    check-cast v3, Landroid/widget/ProgressBar;

    iput-object v3, p0, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->mProgressBar:Landroid/widget/ProgressBar;

    .line 350
    invoke-direct {p0}, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->setProgressBarVisibility()V

    .line 351
    return-void
.end method

.method static synthetic access$000(Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;ZZ)V
    .locals 0
    .param p0, "x0"    # Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;
    .param p1, "x1"    # Z
    .param p2, "x2"    # Z

    .line 48
    invoke-direct {p0, p1, p2}, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->handleCropWindowChanged(ZZ)V

    return-void
.end method

.method static synthetic access$100(Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;)Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView$OnSetCropOverlayReleasedListener;
    .locals 1
    .param p0, "x0"    # Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;

    .line 48
    iget-object v0, p0, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->mOnCropOverlayReleasedListener:Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView$OnSetCropOverlayReleasedListener;

    return-object v0
.end method

.method static synthetic access$200(Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;)Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView$OnSetCropOverlayMovedListener;
    .locals 1
    .param p0, "x0"    # Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;

    .line 48
    iget-object v0, p0, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->mOnSetCropOverlayMovedListener:Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView$OnSetCropOverlayMovedListener;

    return-object v0
.end method

.method private applyImageMatrix(FFZZ)V
    .locals 9
    .param p1, "width"    # F
    .param p2, "height"    # F
    .param p3, "center"    # Z
    .param p4, "animate"    # Z

    .line 1629
    iget-object v0, p0, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->mBitmap:Landroid/graphics/Bitmap;

    if-eqz v0, :cond_a

    const/4 v0, 0x0

    cmpl-float v1, p1, v0

    if-lez v1, :cond_a

    cmpl-float v1, p2, v0

    if-lez v1, :cond_a

    .line 1631
    iget-object v1, p0, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->mImageMatrix:Landroid/graphics/Matrix;

    iget-object v2, p0, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->mImageInverseMatrix:Landroid/graphics/Matrix;

    invoke-virtual {v1, v2}, Landroid/graphics/Matrix;->invert(Landroid/graphics/Matrix;)Z

    .line 1632
    iget-object v1, p0, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->mCropOverlayView:Lcom/droidninja/imageeditengine/views/cropimage/IEECropOverlayView;

    invoke-virtual {v1}, Lcom/droidninja/imageeditengine/views/cropimage/IEECropOverlayView;->getCropWindowRect()Landroid/graphics/RectF;

    move-result-object v1

    .line 1633
    .local v1, "cropRect":Landroid/graphics/RectF;
    iget-object v2, p0, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->mImageInverseMatrix:Landroid/graphics/Matrix;

    invoke-virtual {v2, v1}, Landroid/graphics/Matrix;->mapRect(Landroid/graphics/RectF;)Z

    .line 1635
    iget-object v2, p0, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->mImageMatrix:Landroid/graphics/Matrix;

    invoke-virtual {v2}, Landroid/graphics/Matrix;->reset()V

    .line 1638
    iget-object v2, p0, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->mImageMatrix:Landroid/graphics/Matrix;

    iget-object v3, p0, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->mBitmap:Landroid/graphics/Bitmap;

    .line 1639
    invoke-virtual {v3}, Landroid/graphics/Bitmap;->getWidth()I

    move-result v3

    int-to-float v3, v3

    sub-float v3, p1, v3

    const/high16 v4, 0x40000000    # 2.0f

    div-float/2addr v3, v4

    iget-object v5, p0, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->mBitmap:Landroid/graphics/Bitmap;

    invoke-virtual {v5}, Landroid/graphics/Bitmap;->getHeight()I

    move-result v5

    int-to-float v5, v5

    sub-float v5, p2, v5

    div-float/2addr v5, v4

    .line 1638
    invoke-virtual {v2, v3, v5}, Landroid/graphics/Matrix;->postTranslate(FF)Z

    .line 1640
    invoke-direct {p0}, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->mapImagePointsByImageMatrix()V

    .line 1643
    iget v2, p0, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->mDegreesRotated:I

    if-lez v2, :cond_0

    .line 1644
    iget-object v3, p0, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->mImageMatrix:Landroid/graphics/Matrix;

    int-to-float v2, v2

    iget-object v5, p0, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->mImagePoints:[F

    .line 1646
    invoke-static {v5}, Lcom/droidninja/imageeditengine/views/cropimage/BitmapUtils;->getRectCenterX([F)F

    move-result v5

    iget-object v6, p0, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->mImagePoints:[F

    .line 1647
    invoke-static {v6}, Lcom/droidninja/imageeditengine/views/cropimage/BitmapUtils;->getRectCenterY([F)F

    move-result v6

    .line 1644
    invoke-virtual {v3, v2, v5, v6}, Landroid/graphics/Matrix;->postRotate(FFF)Z

    .line 1648
    invoke-direct {p0}, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->mapImagePointsByImageMatrix()V

    .line 1652
    :cond_0
    iget-object v2, p0, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->mImagePoints:[F

    .line 1654
    invoke-static {v2}, Lcom/droidninja/imageeditengine/views/cropimage/BitmapUtils;->getRectWidth([F)F

    move-result v2

    div-float v2, p1, v2

    iget-object v3, p0, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->mImagePoints:[F

    .line 1655
    invoke-static {v3}, Lcom/droidninja/imageeditengine/views/cropimage/BitmapUtils;->getRectHeight([F)F

    move-result v3

    div-float v3, p2, v3

    .line 1653
    invoke-static {v2, v3}, Ljava/lang/Math;->min(FF)F

    move-result v2

    .line 1656
    .local v2, "scale":F
    iget-object v3, p0, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->mScaleType:Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView$ScaleType;

    sget-object v5, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView$ScaleType;->FIT_CENTER:Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView$ScaleType;

    if-eq v3, v5, :cond_2

    iget-object v3, p0, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->mScaleType:Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView$ScaleType;

    sget-object v5, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView$ScaleType;->CENTER_INSIDE:Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView$ScaleType;

    const/high16 v6, 0x3f800000    # 1.0f

    if-ne v3, v5, :cond_1

    cmpg-float v3, v2, v6

    if-ltz v3, :cond_2

    :cond_1
    cmpl-float v3, v2, v6

    if-lez v3, :cond_3

    iget-boolean v3, p0, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->mAutoZoomEnabled:Z

    if-eqz v3, :cond_3

    .line 1659
    :cond_2
    iget-object v3, p0, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->mImageMatrix:Landroid/graphics/Matrix;

    iget-object v5, p0, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->mImagePoints:[F

    .line 1662
    invoke-static {v5}, Lcom/droidninja/imageeditengine/views/cropimage/BitmapUtils;->getRectCenterX([F)F

    move-result v5

    iget-object v6, p0, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->mImagePoints:[F

    .line 1663
    invoke-static {v6}, Lcom/droidninja/imageeditengine/views/cropimage/BitmapUtils;->getRectCenterY([F)F

    move-result v6

    .line 1659
    invoke-virtual {v3, v2, v2, v5, v6}, Landroid/graphics/Matrix;->postScale(FFFF)Z

    .line 1664
    invoke-direct {p0}, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->mapImagePointsByImageMatrix()V

    .line 1668
    :cond_3
    iget-boolean v3, p0, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->mFlipHorizontally:Z

    if-eqz v3, :cond_4

    iget v3, p0, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->mZoom:F

    neg-float v3, v3

    goto :goto_0

    :cond_4
    iget v3, p0, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->mZoom:F

    .line 1669
    .local v3, "scaleX":F
    :goto_0
    iget-boolean v5, p0, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->mFlipVertically:Z

    if-eqz v5, :cond_5

    iget v5, p0, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->mZoom:F

    neg-float v5, v5

    goto :goto_1

    :cond_5
    iget v5, p0, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->mZoom:F

    .line 1670
    .local v5, "scaleY":F
    :goto_1
    iget-object v6, p0, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->mImageMatrix:Landroid/graphics/Matrix;

    iget-object v7, p0, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->mImagePoints:[F

    .line 1673
    invoke-static {v7}, Lcom/droidninja/imageeditengine/views/cropimage/BitmapUtils;->getRectCenterX([F)F

    move-result v7

    iget-object v8, p0, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->mImagePoints:[F

    .line 1674
    invoke-static {v8}, Lcom/droidninja/imageeditengine/views/cropimage/BitmapUtils;->getRectCenterY([F)F

    move-result v8

    .line 1670
    invoke-virtual {v6, v3, v5, v7, v8}, Landroid/graphics/Matrix;->postScale(FFFF)Z

    .line 1675
    invoke-direct {p0}, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->mapImagePointsByImageMatrix()V

    .line 1677
    iget-object v6, p0, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->mImageMatrix:Landroid/graphics/Matrix;

    invoke-virtual {v6, v1}, Landroid/graphics/Matrix;->mapRect(Landroid/graphics/RectF;)Z

    .line 1679
    if-eqz p3, :cond_8

    .line 1681
    nop

    .line 1682
    iget-object v6, p0, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->mImagePoints:[F

    invoke-static {v6}, Lcom/droidninja/imageeditengine/views/cropimage/BitmapUtils;->getRectWidth([F)F

    move-result v6

    cmpl-float v6, p1, v6

    if-lez v6, :cond_6

    .line 1683
    move v6, v0

    goto :goto_2

    .line 1688
    :cond_6
    div-float v6, p1, v4

    .line 1686
    invoke-virtual {v1}, Landroid/graphics/RectF;->centerX()F

    move-result v7

    sub-float/2addr v6, v7

    iget-object v7, p0, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->mImagePoints:[F

    invoke-static {v7}, Lcom/droidninja/imageeditengine/views/cropimage/BitmapUtils;->getRectLeft([F)F

    move-result v7

    neg-float v7, v7

    .line 1685
    invoke-static {v6, v7}, Ljava/lang/Math;->min(FF)F

    move-result v6

    .line 1687
    invoke-virtual {p0}, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->getWidth()I

    move-result v7

    int-to-float v7, v7

    iget-object v8, p0, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->mImagePoints:[F

    invoke-static {v8}, Lcom/droidninja/imageeditengine/views/cropimage/BitmapUtils;->getRectRight([F)F

    move-result v8

    sub-float/2addr v7, v8

    .line 1684
    invoke-static {v6, v7}, Ljava/lang/Math;->max(FF)F

    move-result v6

    div-float/2addr v6, v3

    :goto_2
    iput v6, p0, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->mZoomOffsetX:F

    .line 1689
    nop

    .line 1690
    iget-object v6, p0, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->mImagePoints:[F

    invoke-static {v6}, Lcom/droidninja/imageeditengine/views/cropimage/BitmapUtils;->getRectHeight([F)F

    move-result v6

    cmpl-float v6, p2, v6

    if-lez v6, :cond_7

    .line 1691
    goto :goto_3

    .line 1696
    :cond_7
    div-float v0, p2, v4

    .line 1694
    invoke-virtual {v1}, Landroid/graphics/RectF;->centerY()F

    move-result v4

    sub-float/2addr v0, v4

    iget-object v4, p0, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->mImagePoints:[F

    invoke-static {v4}, Lcom/droidninja/imageeditengine/views/cropimage/BitmapUtils;->getRectTop([F)F

    move-result v4

    neg-float v4, v4

    .line 1693
    invoke-static {v0, v4}, Ljava/lang/Math;->min(FF)F

    move-result v0

    .line 1695
    invoke-virtual {p0}, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->getHeight()I

    move-result v4

    int-to-float v4, v4

    iget-object v6, p0, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->mImagePoints:[F

    invoke-static {v6}, Lcom/droidninja/imageeditengine/views/cropimage/BitmapUtils;->getRectBottom([F)F

    move-result v6

    sub-float/2addr v4, v6

    .line 1692
    invoke-static {v0, v4}, Ljava/lang/Math;->max(FF)F

    move-result v0

    div-float/2addr v0, v5

    :goto_3
    iput v0, p0, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->mZoomOffsetY:F

    goto :goto_4

    .line 1700
    :cond_8
    iget v0, p0, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->mZoomOffsetX:F

    mul-float/2addr v0, v3

    iget v4, v1, Landroid/graphics/RectF;->left:F

    neg-float v4, v4

    .line 1701
    invoke-static {v0, v4}, Ljava/lang/Math;->max(FF)F

    move-result v0

    iget v4, v1, Landroid/graphics/RectF;->right:F

    neg-float v4, v4

    add-float/2addr v4, p1

    invoke-static {v0, v4}, Ljava/lang/Math;->min(FF)F

    move-result v0

    div-float/2addr v0, v3

    iput v0, p0, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->mZoomOffsetX:F

    .line 1703
    iget v0, p0, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->mZoomOffsetY:F

    mul-float/2addr v0, v5

    iget v4, v1, Landroid/graphics/RectF;->top:F

    neg-float v4, v4

    .line 1704
    invoke-static {v0, v4}, Ljava/lang/Math;->max(FF)F

    move-result v0

    iget v4, v1, Landroid/graphics/RectF;->bottom:F

    neg-float v4, v4

    add-float/2addr v4, p2

    invoke-static {v0, v4}, Ljava/lang/Math;->min(FF)F

    move-result v0

    div-float/2addr v0, v5

    iput v0, p0, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->mZoomOffsetY:F

    .line 1709
    :goto_4
    iget-object v0, p0, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->mImageMatrix:Landroid/graphics/Matrix;

    iget v4, p0, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->mZoomOffsetX:F

    mul-float/2addr v4, v3

    iget v6, p0, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->mZoomOffsetY:F

    mul-float/2addr v6, v5

    invoke-virtual {v0, v4, v6}, Landroid/graphics/Matrix;->postTranslate(FF)Z

    .line 1710
    iget v0, p0, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->mZoomOffsetX:F

    mul-float/2addr v0, v3

    iget v4, p0, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->mZoomOffsetY:F

    mul-float/2addr v4, v5

    invoke-virtual {v1, v0, v4}, Landroid/graphics/RectF;->offset(FF)V

    .line 1711
    iget-object v0, p0, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->mCropOverlayView:Lcom/droidninja/imageeditengine/views/cropimage/IEECropOverlayView;

    invoke-virtual {v0, v1}, Lcom/droidninja/imageeditengine/views/cropimage/IEECropOverlayView;->setCropWindowRect(Landroid/graphics/RectF;)V

    .line 1712
    invoke-direct {p0}, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->mapImagePointsByImageMatrix()V

    .line 1713
    iget-object v0, p0, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->mCropOverlayView:Lcom/droidninja/imageeditengine/views/cropimage/IEECropOverlayView;

    invoke-virtual {v0}, Lcom/droidninja/imageeditengine/views/cropimage/IEECropOverlayView;->invalidate()V

    .line 1716
    if-eqz p4, :cond_9

    .line 1718
    iget-object v0, p0, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->mAnimation:Lcom/droidninja/imageeditengine/views/cropimage/CropImageAnimation;

    iget-object v4, p0, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->mImagePoints:[F

    iget-object v6, p0, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->mImageMatrix:Landroid/graphics/Matrix;

    invoke-virtual {v0, v4, v6}, Lcom/droidninja/imageeditengine/views/cropimage/CropImageAnimation;->setEndState([FLandroid/graphics/Matrix;)V

    .line 1719
    iget-object v0, p0, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->mImageView:Landroid/widget/ImageView;

    iget-object v4, p0, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->mAnimation:Lcom/droidninja/imageeditengine/views/cropimage/CropImageAnimation;

    invoke-virtual {v0, v4}, Landroid/widget/ImageView;->startAnimation(Landroid/view/animation/Animation;)V

    goto :goto_5

    .line 1721
    :cond_9
    iget-object v0, p0, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->mImageView:Landroid/widget/ImageView;

    iget-object v4, p0, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->mImageMatrix:Landroid/graphics/Matrix;

    invoke-virtual {v0, v4}, Landroid/widget/ImageView;->setImageMatrix(Landroid/graphics/Matrix;)V

    .line 1725
    :goto_5
    const/4 v0, 0x0

    invoke-direct {p0, v0}, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->updateImageBounds(Z)V

    .line 1727
    .end local v1    # "cropRect":Landroid/graphics/RectF;
    .end local v2    # "scale":F
    .end local v3    # "scaleX":F
    .end local v5    # "scaleY":F
    :cond_a
    return-void
.end method

.method private clearImageInt()V
    .locals 3

    .line 1221
    iget-object v0, p0, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->mBitmap:Landroid/graphics/Bitmap;

    if-eqz v0, :cond_1

    iget v1, p0, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->mImageResource:I

    if-gtz v1, :cond_0

    iget-object v1, p0, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->mLoadedImageUri:Landroid/net/Uri;

    if-eqz v1, :cond_1

    .line 1222
    :cond_0
    invoke-virtual {v0}, Landroid/graphics/Bitmap;->recycle()V

    .line 1224
    :cond_1
    const/4 v0, 0x0

    iput-object v0, p0, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->mBitmap:Landroid/graphics/Bitmap;

    .line 1227
    const/4 v1, 0x0

    iput v1, p0, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->mImageResource:I

    .line 1228
    iput-object v0, p0, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->mLoadedImageUri:Landroid/net/Uri;

    .line 1229
    const/4 v2, 0x1

    iput v2, p0, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->mLoadedSampleSize:I

    .line 1230
    iput v1, p0, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->mDegreesRotated:I

    .line 1231
    const/high16 v1, 0x3f800000    # 1.0f

    iput v1, p0, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->mZoom:F

    .line 1232
    const/4 v1, 0x0

    iput v1, p0, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->mZoomOffsetX:F

    .line 1233
    iput v1, p0, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->mZoomOffsetY:F

    .line 1234
    iget-object v1, p0, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->mImageMatrix:Landroid/graphics/Matrix;

    invoke-virtual {v1}, Landroid/graphics/Matrix;->reset()V

    .line 1235
    iput-object v0, p0, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->mSaveInstanceStateBitmapUri:Landroid/net/Uri;

    .line 1237
    iget-object v1, p0, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->mImageView:Landroid/widget/ImageView;

    invoke-virtual {v1, v0}, Landroid/widget/ImageView;->setImageBitmap(Landroid/graphics/Bitmap;)V

    .line 1239
    invoke-direct {p0}, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->setCropOverlayVisibility()V

    .line 1240
    return-void
.end method

.method private static getOnMeasureSpec(III)I
    .locals 1
    .param p0, "measureSpecMode"    # I
    .param p1, "measureSpecSize"    # I
    .param p2, "desiredSize"    # I

    .line 1768
    const/high16 v0, 0x40000000    # 2.0f

    if-ne p0, v0, :cond_0

    .line 1770
    move v0, p1

    .local v0, "spec":I
    goto :goto_0

    .line 1771
    .end local v0    # "spec":I
    :cond_0
    const/high16 v0, -0x80000000

    if-ne p0, v0, :cond_1

    .line 1773
    invoke-static {p2, p1}, Ljava/lang/Math;->min(II)I

    move-result v0

    .restart local v0    # "spec":I
    goto :goto_0

    .line 1776
    .end local v0    # "spec":I
    :cond_1
    move v0, p2

    .line 1779
    .restart local v0    # "spec":I
    :goto_0
    return v0
.end method

.method private handleCropWindowChanged(ZZ)V
    .locals 12
    .param p1, "inProgress"    # Z
    .param p2, "animate"    # Z

    .line 1564
    invoke-virtual {p0}, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->getWidth()I

    move-result v0

    .line 1565
    .local v0, "width":I
    invoke-virtual {p0}, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->getHeight()I

    move-result v1

    .line 1566
    .local v1, "height":I
    iget-object v2, p0, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->mBitmap:Landroid/graphics/Bitmap;

    if-eqz v2, :cond_a

    if-lez v0, :cond_a

    if-lez v1, :cond_a

    .line 1568
    iget-object v2, p0, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->mCropOverlayView:Lcom/droidninja/imageeditengine/views/cropimage/IEECropOverlayView;

    invoke-virtual {v2}, Lcom/droidninja/imageeditengine/views/cropimage/IEECropOverlayView;->getCropWindowRect()Landroid/graphics/RectF;

    move-result-object v2

    .line 1569
    .local v2, "cropRect":Landroid/graphics/RectF;
    const/4 v3, 0x0

    if-eqz p1, :cond_1

    .line 1570
    iget v4, v2, Landroid/graphics/RectF;->left:F

    cmpg-float v4, v4, v3

    if-ltz v4, :cond_0

    iget v4, v2, Landroid/graphics/RectF;->top:F

    cmpg-float v3, v4, v3

    if-ltz v3, :cond_0

    iget v3, v2, Landroid/graphics/RectF;->right:F

    int-to-float v4, v0

    cmpl-float v3, v3, v4

    if-gtz v3, :cond_0

    iget v3, v2, Landroid/graphics/RectF;->bottom:F

    int-to-float v4, v1

    cmpl-float v3, v3, v4

    if-lez v3, :cond_9

    .line 1574
    :cond_0
    int-to-float v3, v0

    int-to-float v4, v1

    const/4 v5, 0x0

    invoke-direct {p0, v3, v4, v5, v5}, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->applyImageMatrix(FFZZ)V

    goto/16 :goto_0

    .line 1576
    :cond_1
    iget-boolean v4, p0, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->mAutoZoomEnabled:Z

    const/high16 v5, 0x3f800000    # 1.0f

    if-nez v4, :cond_2

    iget v4, p0, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->mZoom:F

    cmpl-float v4, v4, v5

    if-lez v4, :cond_9

    .line 1577
    :cond_2
    const/4 v4, 0x0

    .line 1579
    .local v4, "newZoom":F
    iget v6, p0, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->mZoom:F

    iget v7, p0, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->mMaxZoom:I

    int-to-float v7, v7

    cmpg-float v6, v6, v7

    if-gez v6, :cond_3

    .line 1580
    invoke-virtual {v2}, Landroid/graphics/RectF;->width()F

    move-result v6

    int-to-float v7, v0

    const/high16 v8, 0x3f000000    # 0.5f

    mul-float/2addr v7, v8

    cmpg-float v6, v6, v7

    if-gez v6, :cond_3

    .line 1581
    invoke-virtual {v2}, Landroid/graphics/RectF;->height()F

    move-result v6

    int-to-float v7, v1

    mul-float/2addr v7, v8

    cmpg-float v6, v6, v7

    if-gez v6, :cond_3

    .line 1582
    iget v6, p0, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->mMaxZoom:I

    int-to-float v6, v6

    int-to-float v7, v0

    .line 1586
    invoke-virtual {v2}, Landroid/graphics/RectF;->width()F

    move-result v8

    iget v9, p0, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->mZoom:F

    div-float/2addr v8, v9

    const v9, 0x3f23d70a    # 0.64f

    div-float/2addr v8, v9

    div-float/2addr v7, v8

    int-to-float v8, v1

    .line 1587
    invoke-virtual {v2}, Landroid/graphics/RectF;->height()F

    move-result v10

    iget v11, p0, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->mZoom:F

    div-float/2addr v10, v11

    div-float/2addr v10, v9

    div-float/2addr v8, v10

    .line 1585
    invoke-static {v7, v8}, Ljava/lang/Math;->min(FF)F

    move-result v7

    .line 1583
    invoke-static {v6, v7}, Ljava/lang/Math;->min(FF)F

    move-result v4

    .line 1589
    :cond_3
    iget v6, p0, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->mZoom:F

    cmpl-float v6, v6, v5

    if-lez v6, :cond_5

    invoke-virtual {v2}, Landroid/graphics/RectF;->width()F

    move-result v6

    int-to-float v7, v0

    const v8, 0x3f266666    # 0.65f

    mul-float/2addr v7, v8

    cmpl-float v6, v6, v7

    if-gtz v6, :cond_4

    invoke-virtual {v2}, Landroid/graphics/RectF;->height()F

    move-result v6

    int-to-float v7, v1

    mul-float/2addr v7, v8

    cmpl-float v6, v6, v7

    if-lez v6, :cond_5

    .line 1590
    :cond_4
    int-to-float v6, v0

    .line 1594
    invoke-virtual {v2}, Landroid/graphics/RectF;->width()F

    move-result v7

    iget v8, p0, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->mZoom:F

    div-float/2addr v7, v8

    const v8, 0x3f028f5c    # 0.51f

    div-float/2addr v7, v8

    div-float/2addr v6, v7

    int-to-float v7, v1

    .line 1595
    invoke-virtual {v2}, Landroid/graphics/RectF;->height()F

    move-result v9

    iget v10, p0, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->mZoom:F

    div-float/2addr v9, v10

    div-float/2addr v9, v8

    div-float/2addr v7, v9

    .line 1593
    invoke-static {v6, v7}, Ljava/lang/Math;->min(FF)F

    move-result v6

    .line 1591
    invoke-static {v5, v6}, Ljava/lang/Math;->max(FF)F

    move-result v4

    .line 1597
    :cond_5
    iget-boolean v5, p0, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->mAutoZoomEnabled:Z

    if-nez v5, :cond_6

    .line 1598
    const/high16 v4, 0x3f800000    # 1.0f

    .line 1601
    :cond_6
    cmpl-float v3, v4, v3

    if-lez v3, :cond_9

    iget v3, p0, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->mZoom:F

    cmpl-float v3, v4, v3

    if-eqz v3, :cond_9

    .line 1602
    if-eqz p2, :cond_8

    .line 1603
    iget-object v3, p0, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->mAnimation:Lcom/droidninja/imageeditengine/views/cropimage/CropImageAnimation;

    if-nez v3, :cond_7

    .line 1605
    new-instance v3, Lcom/droidninja/imageeditengine/views/cropimage/CropImageAnimation;

    iget-object v5, p0, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->mImageView:Landroid/widget/ImageView;

    iget-object v6, p0, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->mCropOverlayView:Lcom/droidninja/imageeditengine/views/cropimage/IEECropOverlayView;

    invoke-direct {v3, v5, v6}, Lcom/droidninja/imageeditengine/views/cropimage/CropImageAnimation;-><init>(Landroid/widget/ImageView;Lcom/droidninja/imageeditengine/views/cropimage/IEECropOverlayView;)V

    iput-object v3, p0, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->mAnimation:Lcom/droidninja/imageeditengine/views/cropimage/CropImageAnimation;

    .line 1608
    :cond_7
    iget-object v3, p0, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->mAnimation:Lcom/droidninja/imageeditengine/views/cropimage/CropImageAnimation;

    iget-object v5, p0, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->mImagePoints:[F

    iget-object v6, p0, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->mImageMatrix:Landroid/graphics/Matrix;

    invoke-virtual {v3, v5, v6}, Lcom/droidninja/imageeditengine/views/cropimage/CropImageAnimation;->setStartState([FLandroid/graphics/Matrix;)V

    .line 1611
    :cond_8
    iput v4, p0, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->mZoom:F

    .line 1613
    int-to-float v3, v0

    int-to-float v5, v1

    const/4 v6, 0x1

    invoke-direct {p0, v3, v5, v6, p2}, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->applyImageMatrix(FFZZ)V

    .line 1616
    .end local v4    # "newZoom":F
    :cond_9
    :goto_0
    iget-object v3, p0, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->mOnSetCropWindowChangeListener:Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView$OnSetCropWindowChangeListener;

    if-eqz v3, :cond_a

    if-nez p1, :cond_a

    .line 1617
    invoke-interface {v3}, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView$OnSetCropWindowChangeListener;->onCropWindowChanged()V

    .line 1620
    .end local v2    # "cropRect":Landroid/graphics/RectF;
    :cond_a
    return-void
.end method

.method private mapImagePointsByImageMatrix()V
    .locals 11

    .line 1735
    iget-object v0, p0, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->mImagePoints:[F

    const/4 v1, 0x0

    const/4 v2, 0x0

    aput v2, v0, v1

    .line 1736
    const/4 v3, 0x1

    aput v2, v0, v3

    .line 1737
    iget-object v4, p0, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->mBitmap:Landroid/graphics/Bitmap;

    invoke-virtual {v4}, Landroid/graphics/Bitmap;->getWidth()I

    move-result v4

    int-to-float v4, v4

    const/4 v5, 0x2

    aput v4, v0, v5

    .line 1738
    iget-object v0, p0, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->mImagePoints:[F

    const/4 v4, 0x3

    aput v2, v0, v4

    .line 1739
    iget-object v6, p0, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->mBitmap:Landroid/graphics/Bitmap;

    invoke-virtual {v6}, Landroid/graphics/Bitmap;->getWidth()I

    move-result v6

    int-to-float v6, v6

    const/4 v7, 0x4

    aput v6, v0, v7

    .line 1740
    iget-object v0, p0, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->mImagePoints:[F

    iget-object v6, p0, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->mBitmap:Landroid/graphics/Bitmap;

    invoke-virtual {v6}, Landroid/graphics/Bitmap;->getHeight()I

    move-result v6

    int-to-float v6, v6

    const/4 v8, 0x5

    aput v6, v0, v8

    .line 1741
    iget-object v0, p0, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->mImagePoints:[F

    const/4 v6, 0x6

    aput v2, v0, v6

    .line 1742
    iget-object v9, p0, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->mBitmap:Landroid/graphics/Bitmap;

    invoke-virtual {v9}, Landroid/graphics/Bitmap;->getHeight()I

    move-result v9

    int-to-float v9, v9

    const/4 v10, 0x7

    aput v9, v0, v10

    .line 1743
    iget-object v0, p0, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->mImageMatrix:Landroid/graphics/Matrix;

    iget-object v9, p0, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->mImagePoints:[F

    invoke-virtual {v0, v9}, Landroid/graphics/Matrix;->mapPoints([F)V

    .line 1744
    iget-object v0, p0, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->mScaleImagePoints:[F

    aput v2, v0, v1

    .line 1745
    aput v2, v0, v3

    .line 1746
    const/high16 v1, 0x42c80000    # 100.0f

    aput v1, v0, v5

    .line 1747
    aput v2, v0, v4

    .line 1748
    aput v1, v0, v7

    .line 1749
    aput v1, v0, v8

    .line 1750
    aput v2, v0, v6

    .line 1751
    aput v1, v0, v10

    .line 1752
    iget-object v1, p0, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->mImageMatrix:Landroid/graphics/Matrix;

    invoke-virtual {v1, v0}, Landroid/graphics/Matrix;->mapPoints([F)V

    .line 1753
    return-void
.end method

.method private setBitmap(Landroid/graphics/Bitmap;ILandroid/net/Uri;II)V
    .locals 4
    .param p1, "bitmap"    # Landroid/graphics/Bitmap;
    .param p2, "imageResource"    # I
    .param p3, "imageUri"    # Landroid/net/Uri;
    .param p4, "loadSampleSize"    # I
    .param p5, "degreesRotated"    # I

    .line 1190
    iget-object v0, p0, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->mBitmap:Landroid/graphics/Bitmap;

    if-eqz v0, :cond_0

    invoke-virtual {v0, p1}, Ljava/lang/Object;->equals(Ljava/lang/Object;)Z

    move-result v0

    if-nez v0, :cond_1

    .line 1192
    :cond_0
    iget-object v0, p0, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->mImageView:Landroid/widget/ImageView;

    invoke-virtual {v0}, Landroid/widget/ImageView;->clearAnimation()V

    .line 1194
    invoke-direct {p0}, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->clearImageInt()V

    .line 1196
    iput-object p1, p0, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->mBitmap:Landroid/graphics/Bitmap;

    .line 1197
    iget-object v0, p0, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->mImageView:Landroid/widget/ImageView;

    invoke-virtual {v0, p1}, Landroid/widget/ImageView;->setImageBitmap(Landroid/graphics/Bitmap;)V

    .line 1199
    iput-object p3, p0, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->mLoadedImageUri:Landroid/net/Uri;

    .line 1200
    iput p2, p0, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->mImageResource:I

    .line 1201
    iput p4, p0, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->mLoadedSampleSize:I

    .line 1202
    iput p5, p0, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->mDegreesRotated:I

    .line 1204
    invoke-virtual {p0}, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->getWidth()I

    move-result v0

    int-to-float v0, v0

    invoke-virtual {p0}, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->getHeight()I

    move-result v1

    int-to-float v1, v1

    const/4 v2, 0x1

    const/4 v3, 0x0

    invoke-direct {p0, v0, v1, v2, v3}, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->applyImageMatrix(FFZZ)V

    .line 1206
    iget-object v0, p0, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->mCropOverlayView:Lcom/droidninja/imageeditengine/views/cropimage/IEECropOverlayView;

    if-eqz v0, :cond_1

    .line 1207
    invoke-virtual {v0}, Lcom/droidninja/imageeditengine/views/cropimage/IEECropOverlayView;->resetCropOverlayView()V

    .line 1208
    invoke-direct {p0}, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->setCropOverlayVisibility()V

    .line 1211
    :cond_1
    return-void
.end method

.method private setCropOverlayVisibility()V
    .locals 2

    .line 1786
    iget-object v0, p0, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->mCropOverlayView:Lcom/droidninja/imageeditengine/views/cropimage/IEECropOverlayView;

    if-eqz v0, :cond_1

    .line 1787
    iget-boolean v1, p0, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->mShowCropOverlay:Z

    if-eqz v1, :cond_0

    iget-object v1, p0, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->mBitmap:Landroid/graphics/Bitmap;

    if-eqz v1, :cond_0

    const/4 v1, 0x0

    goto :goto_0

    :cond_0
    const/4 v1, 0x4

    :goto_0
    invoke-virtual {v0, v1}, Lcom/droidninja/imageeditengine/views/cropimage/IEECropOverlayView;->setVisibility(I)V

    .line 1789
    :cond_1
    return-void
.end method

.method private setProgressBarVisibility()V
    .locals 3

    .line 1795
    iget-boolean v0, p0, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->mShowProgressBar:Z

    const/4 v1, 0x0

    if-eqz v0, :cond_2

    iget-object v0, p0, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->mBitmap:Landroid/graphics/Bitmap;

    if-nez v0, :cond_0

    iget-object v0, p0, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->mBitmapLoadingWorkerTask:Ljava/lang/ref/WeakReference;

    if-nez v0, :cond_1

    :cond_0
    iget-object v0, p0, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->mBitmapCroppingWorkerTask:Ljava/lang/ref/WeakReference;

    if-eqz v0, :cond_2

    :cond_1
    const/4 v0, 0x1

    goto :goto_0

    :cond_2
    move v0, v1

    .line 1799
    .local v0, "visible":Z
    :goto_0
    iget-object v2, p0, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->mProgressBar:Landroid/widget/ProgressBar;

    if-eqz v0, :cond_3

    goto :goto_1

    :cond_3
    const/4 v1, 0x4

    :goto_1
    invoke-virtual {v2, v1}, Landroid/widget/ProgressBar;->setVisibility(I)V

    .line 1800
    return-void
.end method

.method private updateImageBounds(Z)V
    .locals 5
    .param p1, "clear"    # Z

    .line 1804
    iget-object v0, p0, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->mBitmap:Landroid/graphics/Bitmap;

    if-eqz v0, :cond_0

    if-nez p1, :cond_0

    .line 1808
    iget v0, p0, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->mLoadedSampleSize:I

    int-to-float v0, v0

    const/high16 v1, 0x42c80000    # 100.0f

    mul-float/2addr v0, v1

    iget-object v2, p0, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->mScaleImagePoints:[F

    .line 1809
    invoke-static {v2}, Lcom/droidninja/imageeditengine/views/cropimage/BitmapUtils;->getRectWidth([F)F

    move-result v2

    div-float/2addr v0, v2

    .line 1810
    .local v0, "scaleFactorWidth":F
    iget v2, p0, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->mLoadedSampleSize:I

    int-to-float v2, v2

    mul-float/2addr v2, v1

    iget-object v1, p0, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->mScaleImagePoints:[F

    .line 1811
    invoke-static {v1}, Lcom/droidninja/imageeditengine/views/cropimage/BitmapUtils;->getRectHeight([F)F

    move-result v1

    div-float/2addr v2, v1

    .line 1812
    .local v2, "scaleFactorHeight":F
    iget-object v1, p0, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->mCropOverlayView:Lcom/droidninja/imageeditengine/views/cropimage/IEECropOverlayView;

    .line 1813
    invoke-virtual {p0}, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->getWidth()I

    move-result v3

    int-to-float v3, v3

    invoke-virtual {p0}, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->getHeight()I

    move-result v4

    int-to-float v4, v4

    .line 1812
    invoke-virtual {v1, v3, v4, v0, v2}, Lcom/droidninja/imageeditengine/views/cropimage/IEECropOverlayView;->setCropWindowLimits(FFFF)V

    .line 1817
    .end local v0    # "scaleFactorWidth":F
    .end local v2    # "scaleFactorHeight":F
    :cond_0
    iget-object v0, p0, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->mCropOverlayView:Lcom/droidninja/imageeditengine/views/cropimage/IEECropOverlayView;

    if-eqz p1, :cond_1

    const/4 v1, 0x0

    goto :goto_0

    :cond_1
    iget-object v1, p0, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->mImagePoints:[F

    :goto_0
    invoke-virtual {p0}, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->getWidth()I

    move-result v2

    invoke-virtual {p0}, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->getHeight()I

    move-result v3

    invoke-virtual {v0, v1, v2, v3}, Lcom/droidninja/imageeditengine/views/cropimage/IEECropOverlayView;->setBounds([FII)V

    .line 1818
    return-void
.end method


# virtual methods
.method public clearAspectRatio()V
    .locals 2

    .line 529
    iget-object v0, p0, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->mCropOverlayView:Lcom/droidninja/imageeditengine/views/cropimage/IEECropOverlayView;

    const/4 v1, 0x1

    invoke-virtual {v0, v1}, Lcom/droidninja/imageeditengine/views/cropimage/IEECropOverlayView;->setAspectRatioX(I)V

    .line 530
    iget-object v0, p0, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->mCropOverlayView:Lcom/droidninja/imageeditengine/views/cropimage/IEECropOverlayView;

    invoke-virtual {v0, v1}, Lcom/droidninja/imageeditengine/views/cropimage/IEECropOverlayView;->setAspectRatioY(I)V

    .line 531
    const/4 v0, 0x0

    invoke-virtual {p0, v0}, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->setFixedAspectRatio(Z)V

    .line 532
    return-void
.end method

.method public clearImage()V
    .locals 2

    .line 1033
    invoke-direct {p0}, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->clearImageInt()V

    .line 1034
    iget-object v0, p0, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->mCropOverlayView:Lcom/droidninja/imageeditengine/views/cropimage/IEECropOverlayView;

    const/4 v1, 0x0

    invoke-virtual {v0, v1}, Lcom/droidninja/imageeditengine/views/cropimage/IEECropOverlayView;->setInitialCropWindowRect(Landroid/graphics/Rect;)V

    .line 1035
    return-void
.end method

.method public flipImageHorizontally()V
    .locals 4

    .line 1120
    iget-boolean v0, p0, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->mFlipHorizontally:Z

    const/4 v1, 0x1

    xor-int/2addr v0, v1

    iput-boolean v0, p0, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->mFlipHorizontally:Z

    .line 1121
    invoke-virtual {p0}, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->getWidth()I

    move-result v0

    int-to-float v0, v0

    invoke-virtual {p0}, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->getHeight()I

    move-result v2

    int-to-float v2, v2

    const/4 v3, 0x0

    invoke-direct {p0, v0, v2, v1, v3}, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->applyImageMatrix(FFZZ)V

    .line 1122
    return-void
.end method

.method public flipImageVertically()V
    .locals 4

    .line 1126
    iget-boolean v0, p0, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->mFlipVertically:Z

    const/4 v1, 0x1

    xor-int/2addr v0, v1

    iput-boolean v0, p0, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->mFlipVertically:Z

    .line 1127
    invoke-virtual {p0}, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->getWidth()I

    move-result v0

    int-to-float v0, v0

    invoke-virtual {p0}, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->getHeight()I

    move-result v2

    int-to-float v2, v2

    const/4 v3, 0x0

    invoke-direct {p0, v0, v2, v1, v3}, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->applyImageMatrix(FFZZ)V

    .line 1128
    return-void
.end method

.method public getAspectRatio()Landroid/util/Pair;
    .locals 3
    .annotation system Ldalvik/annotation/Signature;
        value = {
            "()",
            "Landroid/util/Pair<",
            "Ljava/lang/Integer;",
            "Ljava/lang/Integer;",
            ">;"
        }
    .end annotation

    .line 511
    new-instance v0, Landroid/util/Pair;

    iget-object v1, p0, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->mCropOverlayView:Lcom/droidninja/imageeditengine/views/cropimage/IEECropOverlayView;

    invoke-virtual {v1}, Lcom/droidninja/imageeditengine/views/cropimage/IEECropOverlayView;->getAspectRatioX()I

    move-result v1

    invoke-static {v1}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;

    move-result-object v1

    iget-object v2, p0, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->mCropOverlayView:Lcom/droidninja/imageeditengine/views/cropimage/IEECropOverlayView;

    invoke-virtual {v2}, Lcom/droidninja/imageeditengine/views/cropimage/IEECropOverlayView;->getAspectRatioY()I

    move-result v2

    invoke-static {v2}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;

    move-result-object v2

    invoke-direct {v0, v1, v2}, Landroid/util/Pair;-><init>(Ljava/lang/Object;Ljava/lang/Object;)V

    return-object v0
.end method

.method public getCropPoints()[F
    .locals 5

    .line 684
    iget-object v0, p0, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->mCropOverlayView:Lcom/droidninja/imageeditengine/views/cropimage/IEECropOverlayView;

    invoke-virtual {v0}, Lcom/droidninja/imageeditengine/views/cropimage/IEECropOverlayView;->getCropWindowRect()Landroid/graphics/RectF;

    move-result-object v0

    .line 686
    .local v0, "cropWindowRect":Landroid/graphics/RectF;
    const/16 v1, 0x8

    new-array v1, v1, [F

    iget v2, v0, Landroid/graphics/RectF;->left:F

    const/4 v3, 0x0

    aput v2, v1, v3

    iget v2, v0, Landroid/graphics/RectF;->top:F

    const/4 v3, 0x1

    aput v2, v1, v3

    iget v2, v0, Landroid/graphics/RectF;->right:F

    const/4 v3, 0x2

    aput v2, v1, v3

    iget v2, v0, Landroid/graphics/RectF;->top:F

    const/4 v3, 0x3

    aput v2, v1, v3

    iget v2, v0, Landroid/graphics/RectF;->right:F

    const/4 v3, 0x4

    aput v2, v1, v3

    iget v2, v0, Landroid/graphics/RectF;->bottom:F

    const/4 v3, 0x5

    aput v2, v1, v3

    iget v2, v0, Landroid/graphics/RectF;->left:F

    const/4 v3, 0x6

    aput v2, v1, v3

    iget v2, v0, Landroid/graphics/RectF;->bottom:F

    const/4 v3, 0x7

    aput v2, v1, v3

    .line 698
    .local v1, "points":[F
    iget-object v2, p0, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->mImageMatrix:Landroid/graphics/Matrix;

    iget-object v3, p0, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->mImageInverseMatrix:Landroid/graphics/Matrix;

    invoke-virtual {v2, v3}, Landroid/graphics/Matrix;->invert(Landroid/graphics/Matrix;)Z

    .line 699
    iget-object v2, p0, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->mImageInverseMatrix:Landroid/graphics/Matrix;

    invoke-virtual {v2, v1}, Landroid/graphics/Matrix;->mapPoints([F)V

    .line 701
    const/4 v2, 0x0

    .local v2, "i":I
    :goto_0
    array-length v3, v1

    if-ge v2, v3, :cond_0

    .line 702
    aget v3, v1, v2

    iget v4, p0, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->mLoadedSampleSize:I

    int-to-float v4, v4

    mul-float/2addr v3, v4

    aput v3, v1, v2

    .line 701
    add-int/lit8 v2, v2, 0x1

    goto :goto_0

    .line 705
    .end local v2    # "i":I
    :cond_0
    return-object v1
.end method

.method public getCropRect()Landroid/graphics/Rect;
    .locals 11

    .line 639
    iget v0, p0, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->mLoadedSampleSize:I

    .line 640
    .local v0, "loadedSampleSize":I
    iget-object v1, p0, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->mBitmap:Landroid/graphics/Bitmap;

    .line 641
    .local v1, "bitmap":Landroid/graphics/Bitmap;
    if-nez v1, :cond_0

    .line 642
    const/4 v2, 0x0

    return-object v2

    .line 646
    :cond_0
    invoke-virtual {p0}, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->getCropPoints()[F

    move-result-object v2

    .line 648
    .local v2, "points":[F
    invoke-virtual {v1}, Landroid/graphics/Bitmap;->getWidth()I

    move-result v3

    mul-int v9, v3, v0

    .line 649
    .local v9, "orgWidth":I
    invoke-virtual {v1}, Landroid/graphics/Bitmap;->getHeight()I

    move-result v3

    mul-int v10, v3, v0

    .line 652
    .local v10, "orgHeight":I
    iget-object v3, p0, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->mCropOverlayView:Lcom/droidninja/imageeditengine/views/cropimage/IEECropOverlayView;

    .line 656
    invoke-virtual {v3}, Lcom/droidninja/imageeditengine/views/cropimage/IEECropOverlayView;->isFixAspectRatio()Z

    move-result v6

    iget-object v3, p0, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->mCropOverlayView:Lcom/droidninja/imageeditengine/views/cropimage/IEECropOverlayView;

    .line 657
    invoke-virtual {v3}, Lcom/droidninja/imageeditengine/views/cropimage/IEECropOverlayView;->getAspectRatioX()I

    move-result v7

    iget-object v3, p0, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->mCropOverlayView:Lcom/droidninja/imageeditengine/views/cropimage/IEECropOverlayView;

    .line 658
    invoke-virtual {v3}, Lcom/droidninja/imageeditengine/views/cropimage/IEECropOverlayView;->getAspectRatioY()I

    move-result v8

    .line 652
    move-object v3, v2

    move v4, v9

    move v5, v10

    invoke-static/range {v3 .. v8}, Lcom/droidninja/imageeditengine/views/cropimage/BitmapUtils;->getRectFromPoints([FIIZII)Landroid/graphics/Rect;

    move-result-object v3

    return-object v3
.end method

.method public getCropShape()Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView$CropShape;
    .locals 1

    .line 371
    iget-object v0, p0, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->mCropOverlayView:Lcom/droidninja/imageeditengine/views/cropimage/IEECropOverlayView;

    invoke-virtual {v0}, Lcom/droidninja/imageeditengine/views/cropimage/IEECropOverlayView;->getCropShape()Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView$CropShape;

    move-result-object v0

    return-object v0
.end method

.method public getCropWindowRect()Landroid/graphics/RectF;
    .locals 1

    .line 667
    iget-object v0, p0, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->mCropOverlayView:Lcom/droidninja/imageeditengine/views/cropimage/IEECropOverlayView;

    if-nez v0, :cond_0

    .line 668
    const/4 v0, 0x0

    return-object v0

    .line 670
    :cond_0
    invoke-virtual {v0}, Lcom/droidninja/imageeditengine/views/cropimage/IEECropOverlayView;->getCropWindowRect()Landroid/graphics/RectF;

    move-result-object v0

    return-object v0
.end method

.method public getCroppedImage()Landroid/graphics/Bitmap;
    .locals 2

    .line 736
    sget-object v0, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView$RequestSizeOptions;->NONE:Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView$RequestSizeOptions;

    const/4 v1, 0x0

    invoke-virtual {p0, v1, v1, v0}, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->getCroppedImage(IILcom/droidninja/imageeditengine/views/cropimage/IEECropImageView$RequestSizeOptions;)Landroid/graphics/Bitmap;

    move-result-object v0

    return-object v0
.end method

.method public getCroppedImage(II)Landroid/graphics/Bitmap;
    .locals 1
    .param p1, "reqWidth"    # I
    .param p2, "reqHeight"    # I

    .line 748
    sget-object v0, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView$RequestSizeOptions;->RESIZE_INSIDE:Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView$RequestSizeOptions;

    invoke-virtual {p0, p1, p2, v0}, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->getCroppedImage(IILcom/droidninja/imageeditengine/views/cropimage/IEECropImageView$RequestSizeOptions;)Landroid/graphics/Bitmap;

    move-result-object v0

    return-object v0
.end method

.method public getCroppedImage(IILcom/droidninja/imageeditengine/views/cropimage/IEECropImageView$RequestSizeOptions;)Landroid/graphics/Bitmap;
    .locals 20
    .param p1, "reqWidth"    # I
    .param p2, "reqHeight"    # I
    .param p3, "options"    # Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView$RequestSizeOptions;

    .line 760
    move-object/from16 v0, p0

    move-object/from16 v1, p3

    const/4 v2, 0x0

    .line 761
    .local v2, "croppedBitmap":Landroid/graphics/Bitmap;
    iget-object v3, v0, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->mBitmap:Landroid/graphics/Bitmap;

    if-eqz v3, :cond_4

    .line 762
    iget-object v3, v0, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->mImageView:Landroid/widget/ImageView;

    invoke-virtual {v3}, Landroid/widget/ImageView;->clearAnimation()V

    .line 764
    sget-object v3, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView$RequestSizeOptions;->NONE:Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView$RequestSizeOptions;

    const/4 v4, 0x0

    if-eq v1, v3, :cond_0

    move/from16 v3, p1

    goto :goto_0

    :cond_0
    move v3, v4

    .line 765
    .end local p1    # "reqWidth":I
    .local v3, "reqWidth":I
    :goto_0
    sget-object v5, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView$RequestSizeOptions;->NONE:Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView$RequestSizeOptions;

    if-eq v1, v5, :cond_1

    move/from16 v4, p2

    .line 767
    .end local p2    # "reqHeight":I
    .local v4, "reqHeight":I
    :cond_1
    iget-object v5, v0, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->mLoadedImageUri:Landroid/net/Uri;

    if-eqz v5, :cond_3

    iget v5, v0, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->mLoadedSampleSize:I

    const/4 v6, 0x1

    if-gt v5, v6, :cond_2

    sget-object v5, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView$RequestSizeOptions;->SAMPLING:Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView$RequestSizeOptions;

    if-ne v1, v5, :cond_3

    .line 769
    :cond_2
    iget-object v5, v0, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->mBitmap:Landroid/graphics/Bitmap;

    invoke-virtual {v5}, Landroid/graphics/Bitmap;->getWidth()I

    move-result v5

    iget v6, v0, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->mLoadedSampleSize:I

    mul-int v18, v5, v6

    .line 770
    .local v18, "orgWidth":I
    iget-object v5, v0, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->mBitmap:Landroid/graphics/Bitmap;

    invoke-virtual {v5}, Landroid/graphics/Bitmap;->getHeight()I

    move-result v5

    iget v6, v0, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->mLoadedSampleSize:I

    mul-int v19, v5, v6

    .line 771
    .local v19, "orgHeight":I
    nop

    .line 773
    invoke-virtual/range {p0 .. p0}, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->getContext()Landroid/content/Context;

    move-result-object v5

    iget-object v6, v0, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->mLoadedImageUri:Landroid/net/Uri;

    .line 775
    invoke-virtual/range {p0 .. p0}, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->getCropPoints()[F

    move-result-object v7

    iget v8, v0, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->mDegreesRotated:I

    iget-object v9, v0, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->mCropOverlayView:Lcom/droidninja/imageeditengine/views/cropimage/IEECropOverlayView;

    .line 779
    invoke-virtual {v9}, Lcom/droidninja/imageeditengine/views/cropimage/IEECropOverlayView;->isFixAspectRatio()Z

    move-result v11

    iget-object v9, v0, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->mCropOverlayView:Lcom/droidninja/imageeditengine/views/cropimage/IEECropOverlayView;

    .line 780
    invoke-virtual {v9}, Lcom/droidninja/imageeditengine/views/cropimage/IEECropOverlayView;->getAspectRatioX()I

    move-result v12

    iget-object v9, v0, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->mCropOverlayView:Lcom/droidninja/imageeditengine/views/cropimage/IEECropOverlayView;

    .line 781
    invoke-virtual {v9}, Lcom/droidninja/imageeditengine/views/cropimage/IEECropOverlayView;->getAspectRatioY()I

    move-result v13

    iget-boolean v15, v0, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->mFlipHorizontally:Z

    iget-boolean v14, v0, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->mFlipVertically:Z

    .line 772
    move/from16 v9, v18

    move/from16 v10, v19

    move/from16 v17, v14

    move v14, v3

    move/from16 v16, v15

    move v15, v4

    invoke-static/range {v5 .. v17}, Lcom/droidninja/imageeditengine/views/cropimage/BitmapUtils;->cropBitmap(Landroid/content/Context;Landroid/net/Uri;[FIIIZIIIIZZ)Lcom/droidninja/imageeditengine/views/cropimage/BitmapUtils$BitmapSampled;

    move-result-object v5

    .line 786
    .local v5, "bitmapSampled":Lcom/droidninja/imageeditengine/views/cropimage/BitmapUtils$BitmapSampled;
    iget-object v2, v5, Lcom/droidninja/imageeditengine/views/cropimage/BitmapUtils$BitmapSampled;->bitmap:Landroid/graphics/Bitmap;

    .line 787
    .end local v5    # "bitmapSampled":Lcom/droidninja/imageeditengine/views/cropimage/BitmapUtils$BitmapSampled;
    .end local v18    # "orgWidth":I
    .end local v19    # "orgHeight":I
    goto :goto_1

    .line 788
    :cond_3
    iget-object v5, v0, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->mBitmap:Landroid/graphics/Bitmap;

    .line 791
    invoke-virtual/range {p0 .. p0}, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->getCropPoints()[F

    move-result-object v6

    iget v7, v0, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->mDegreesRotated:I

    iget-object v8, v0, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->mCropOverlayView:Lcom/droidninja/imageeditengine/views/cropimage/IEECropOverlayView;

    .line 793
    invoke-virtual {v8}, Lcom/droidninja/imageeditengine/views/cropimage/IEECropOverlayView;->isFixAspectRatio()Z

    move-result v8

    iget-object v9, v0, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->mCropOverlayView:Lcom/droidninja/imageeditengine/views/cropimage/IEECropOverlayView;

    .line 794
    invoke-virtual {v9}, Lcom/droidninja/imageeditengine/views/cropimage/IEECropOverlayView;->getAspectRatioX()I

    move-result v9

    iget-object v10, v0, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->mCropOverlayView:Lcom/droidninja/imageeditengine/views/cropimage/IEECropOverlayView;

    .line 795
    invoke-virtual {v10}, Lcom/droidninja/imageeditengine/views/cropimage/IEECropOverlayView;->getAspectRatioY()I

    move-result v10

    iget-boolean v11, v0, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->mFlipHorizontally:Z

    iget-boolean v12, v0, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->mFlipVertically:Z

    .line 789
    invoke-static/range {v5 .. v12}, Lcom/droidninja/imageeditengine/views/cropimage/BitmapUtils;->cropBitmapObjectHandleOOM(Landroid/graphics/Bitmap;[FIZIIZZ)Lcom/droidninja/imageeditengine/views/cropimage/BitmapUtils$BitmapSampled;

    move-result-object v5

    iget-object v2, v5, Lcom/droidninja/imageeditengine/views/cropimage/BitmapUtils$BitmapSampled;->bitmap:Landroid/graphics/Bitmap;

    .line 801
    :goto_1
    invoke-static {v2, v3, v4, v1}, Lcom/droidninja/imageeditengine/views/cropimage/BitmapUtils;->resizeBitmap(Landroid/graphics/Bitmap;IILcom/droidninja/imageeditengine/views/cropimage/IEECropImageView$RequestSizeOptions;)Landroid/graphics/Bitmap;

    move-result-object v2

    goto :goto_2

    .line 761
    .end local v3    # "reqWidth":I
    .end local v4    # "reqHeight":I
    .restart local p1    # "reqWidth":I
    .restart local p2    # "reqHeight":I
    :cond_4
    move/from16 v3, p1

    move/from16 v4, p2

    .line 804
    .end local p1    # "reqWidth":I
    .end local p2    # "reqHeight":I
    .restart local v3    # "reqWidth":I
    .restart local v4    # "reqHeight":I
    :goto_2
    return-object v2
.end method

.method public getCroppedImageAsync()V
    .locals 2

    .line 813
    sget-object v0, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView$RequestSizeOptions;->NONE:Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView$RequestSizeOptions;

    const/4 v1, 0x0

    invoke-virtual {p0, v1, v1, v0}, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->getCroppedImageAsync(IILcom/droidninja/imageeditengine/views/cropimage/IEECropImageView$RequestSizeOptions;)V

    .line 814
    return-void
.end method

.method public getCroppedImageAsync(II)V
    .locals 1
    .param p1, "reqWidth"    # I
    .param p2, "reqHeight"    # I

    .line 826
    sget-object v0, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView$RequestSizeOptions;->RESIZE_INSIDE:Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView$RequestSizeOptions;

    invoke-virtual {p0, p1, p2, v0}, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->getCroppedImageAsync(IILcom/droidninja/imageeditengine/views/cropimage/IEECropImageView$RequestSizeOptions;)V

    .line 827
    return-void
.end method

.method public getCroppedImageAsync(IILcom/droidninja/imageeditengine/views/cropimage/IEECropImageView$RequestSizeOptions;)V
    .locals 8
    .param p1, "reqWidth"    # I
    .param p2, "reqHeight"    # I
    .param p3, "options"    # Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView$RequestSizeOptions;

    .line 839
    iget-object v0, p0, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->mOnCropImageCompleteListener:Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView$OnCropImageCompleteListener;

    if-eqz v0, :cond_0

    .line 842
    const/4 v5, 0x0

    const/4 v6, 0x0

    const/4 v7, 0x0

    move-object v1, p0

    move v2, p1

    move v3, p2

    move-object v4, p3

    invoke-virtual/range {v1 .. v7}, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->startCropWorkerTask(IILcom/droidninja/imageeditengine/views/cropimage/IEECropImageView$RequestSizeOptions;Landroid/net/Uri;Landroid/graphics/Bitmap$CompressFormat;I)V

    .line 843
    return-void

    .line 840
    :cond_0
    new-instance v0, Ljava/lang/IllegalArgumentException;

    const-string v1, "mOnCropImageCompleteListener is not set"

    invoke-direct {v0, v1}, Ljava/lang/IllegalArgumentException;-><init>(Ljava/lang/String;)V

    throw v0
.end method

.method public getGuidelines()Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView$Guidelines;
    .locals 1

    .line 498
    iget-object v0, p0, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->mCropOverlayView:Lcom/droidninja/imageeditengine/views/cropimage/IEECropOverlayView;

    invoke-virtual {v0}, Lcom/droidninja/imageeditengine/views/cropimage/IEECropOverlayView;->getGuidelines()Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView$Guidelines;

    move-result-object v0

    return-object v0
.end method

.method public getImageResource()I
    .locals 1

    .line 607
    iget v0, p0, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->mImageResource:I

    return v0
.end method

.method public getImageUri()Landroid/net/Uri;
    .locals 1

    .line 612
    iget-object v0, p0, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->mLoadedImageUri:Landroid/net/Uri;

    return-object v0
.end method

.method public getMaxZoom()I
    .locals 1

    .line 406
    iget v0, p0, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->mMaxZoom:I

    return v0
.end method

.method public getRotatedDegrees()I
    .locals 1

    .line 440
    iget v0, p0, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->mDegreesRotated:I

    return v0
.end method

.method public getScaleType()Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView$ScaleType;
    .locals 1

    .line 355
    iget-object v0, p0, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->mScaleType:Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView$ScaleType;

    return-object v0
.end method

.method public getWholeImageRect()Landroid/graphics/Rect;
    .locals 6

    .line 621
    iget v0, p0, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->mLoadedSampleSize:I

    .line 622
    .local v0, "loadedSampleSize":I
    iget-object v1, p0, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->mBitmap:Landroid/graphics/Bitmap;

    .line 623
    .local v1, "bitmap":Landroid/graphics/Bitmap;
    if-nez v1, :cond_0

    .line 624
    const/4 v2, 0x0

    return-object v2

    .line 627
    :cond_0
    invoke-virtual {v1}, Landroid/graphics/Bitmap;->getWidth()I

    move-result v2

    mul-int/2addr v2, v0

    .line 628
    .local v2, "orgWidth":I
    invoke-virtual {v1}, Landroid/graphics/Bitmap;->getHeight()I

    move-result v3

    mul-int/2addr v3, v0

    .line 629
    .local v3, "orgHeight":I
    new-instance v4, Landroid/graphics/Rect;

    const/4 v5, 0x0

    invoke-direct {v4, v5, v5, v2, v3}, Landroid/graphics/Rect;-><init>(IIII)V

    return-object v4
.end method

.method public isAutoZoomEnabled()Z
    .locals 1

    .line 384
    iget-boolean v0, p0, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->mAutoZoomEnabled:Z

    return v0
.end method

.method public isFixAspectRatio()Z
    .locals 1

    .line 459
    iget-object v0, p0, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->mCropOverlayView:Lcom/droidninja/imageeditengine/views/cropimage/IEECropOverlayView;

    invoke-virtual {v0}, Lcom/droidninja/imageeditengine/views/cropimage/IEECropOverlayView;->isFixAspectRatio()Z

    move-result v0

    return v0
.end method

.method public isFlippedHorizontally()Z
    .locals 1

    .line 472
    iget-boolean v0, p0, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->mFlipHorizontally:Z

    return v0
.end method

.method public isFlippedVertically()Z
    .locals 1

    .line 485
    iget-boolean v0, p0, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->mFlipVertically:Z

    return v0
.end method

.method public isSaveBitmapToInstanceState()Z
    .locals 1

    .line 592
    iget-boolean v0, p0, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->mSaveBitmapToInstanceState:Z

    return v0
.end method

.method public isShowCropOverlay()Z
    .locals 1

    .line 570
    iget-boolean v0, p0, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->mShowCropOverlay:Z

    return v0
.end method

.method public isShowProgressBar()Z
    .locals 1

    .line 550
    iget-boolean v0, p0, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->mShowProgressBar:Z

    return v0
.end method

.method onImageCroppingAsyncComplete(Lcom/droidninja/imageeditengine/views/cropimage/BitmapCroppingWorkerTask$Result;)V
    .locals 13
    .param p1, "result"    # Lcom/droidninja/imageeditengine/views/cropimage/BitmapCroppingWorkerTask$Result;

    .line 1162
    const/4 v0, 0x0

    iput-object v0, p0, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->mBitmapCroppingWorkerTask:Ljava/lang/ref/WeakReference;

    .line 1163
    invoke-direct {p0}, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->setProgressBarVisibility()V

    .line 1165
    iget-object v0, p0, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->mOnCropImageCompleteListener:Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView$OnCropImageCompleteListener;

    .line 1166
    .local v0, "listener":Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView$OnCropImageCompleteListener;
    if-eqz v0, :cond_0

    .line 1167
    new-instance v12, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView$CropResult;

    iget-object v2, p0, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->mBitmap:Landroid/graphics/Bitmap;

    iget-object v3, p0, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->mLoadedImageUri:Landroid/net/Uri;

    iget-object v4, p1, Lcom/droidninja/imageeditengine/views/cropimage/BitmapCroppingWorkerTask$Result;->bitmap:Landroid/graphics/Bitmap;

    iget-object v5, p1, Lcom/droidninja/imageeditengine/views/cropimage/BitmapCroppingWorkerTask$Result;->uri:Landroid/net/Uri;

    iget-object v6, p1, Lcom/droidninja/imageeditengine/views/cropimage/BitmapCroppingWorkerTask$Result;->error:Ljava/lang/Exception;

    .line 1174
    invoke-virtual {p0}, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->getCropPoints()[F

    move-result-object v7

    .line 1175
    invoke-virtual {p0}, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->getCropRect()Landroid/graphics/Rect;

    move-result-object v8

    .line 1176
    invoke-virtual {p0}, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->getWholeImageRect()Landroid/graphics/Rect;

    move-result-object v9

    .line 1177
    invoke-virtual {p0}, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->getRotatedDegrees()I

    move-result v10

    iget v11, p1, Lcom/droidninja/imageeditengine/views/cropimage/BitmapCroppingWorkerTask$Result;->sampleSize:I

    move-object v1, v12

    invoke-direct/range {v1 .. v11}, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView$CropResult;-><init>(Landroid/graphics/Bitmap;Landroid/net/Uri;Landroid/graphics/Bitmap;Landroid/net/Uri;Ljava/lang/Exception;[FLandroid/graphics/Rect;Landroid/graphics/Rect;II)V

    .line 1179
    .local v1, "cropResult":Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView$CropResult;
    invoke-interface {v0, p0, v1}, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView$OnCropImageCompleteListener;->onCropImageComplete(Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView$CropResult;)V

    .line 1181
    .end local v1    # "cropResult":Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView$CropResult;
    :cond_0
    return-void
.end method

.method protected onLayout(ZIIII)V
    .locals 5
    .param p1, "changed"    # Z
    .param p2, "l"    # I
    .param p3, "t"    # I
    .param p4, "r"    # I
    .param p5, "b"    # I

    .line 1507
    invoke-super/range {p0 .. p5}, Landroid/widget/FrameLayout;->onLayout(ZIIII)V

    .line 1509
    iget v0, p0, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->mLayoutWidth:I

    const/4 v1, 0x1

    if-lez v0, :cond_4

    iget v0, p0, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->mLayoutHeight:I

    if-lez v0, :cond_4

    .line 1511
    invoke-virtual {p0}, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->getLayoutParams()Landroid/view/ViewGroup$LayoutParams;

    move-result-object v0

    .line 1512
    .local v0, "origParams":Landroid/view/ViewGroup$LayoutParams;
    iget v2, p0, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->mLayoutWidth:I

    iput v2, v0, Landroid/view/ViewGroup$LayoutParams;->width:I

    .line 1513
    iget v2, p0, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->mLayoutHeight:I

    iput v2, v0, Landroid/view/ViewGroup$LayoutParams;->height:I

    .line 1514
    invoke-virtual {p0, v0}, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->setLayoutParams(Landroid/view/ViewGroup$LayoutParams;)V

    .line 1516
    iget-object v2, p0, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->mBitmap:Landroid/graphics/Bitmap;

    if-eqz v2, :cond_2

    .line 1517
    sub-int v2, p4, p2

    int-to-float v2, v2

    sub-int v3, p5, p3

    int-to-float v3, v3

    const/4 v4, 0x0

    invoke-direct {p0, v2, v3, v1, v4}, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->applyImageMatrix(FFZZ)V

    .line 1521
    iget-object v2, p0, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->mRestoreCropWindowRect:Landroid/graphics/RectF;

    if-eqz v2, :cond_1

    .line 1522
    iget v2, p0, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->mRestoreDegreesRotated:I

    iget v3, p0, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->mInitialDegreesRotated:I

    if-eq v2, v3, :cond_0

    .line 1523
    iput v2, p0, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->mDegreesRotated:I

    .line 1524
    sub-int v2, p4, p2

    int-to-float v2, v2

    sub-int v3, p5, p3

    int-to-float v3, v3

    invoke-direct {p0, v2, v3, v1, v4}, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->applyImageMatrix(FFZZ)V

    .line 1526
    :cond_0
    iget-object v1, p0, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->mImageMatrix:Landroid/graphics/Matrix;

    iget-object v2, p0, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->mRestoreCropWindowRect:Landroid/graphics/RectF;

    invoke-virtual {v1, v2}, Landroid/graphics/Matrix;->mapRect(Landroid/graphics/RectF;)Z

    .line 1527
    iget-object v1, p0, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->mCropOverlayView:Lcom/droidninja/imageeditengine/views/cropimage/IEECropOverlayView;

    iget-object v2, p0, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->mRestoreCropWindowRect:Landroid/graphics/RectF;

    invoke-virtual {v1, v2}, Lcom/droidninja/imageeditengine/views/cropimage/IEECropOverlayView;->setCropWindowRect(Landroid/graphics/RectF;)V

    .line 1528
    invoke-direct {p0, v4, v4}, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->handleCropWindowChanged(ZZ)V

    .line 1529
    iget-object v1, p0, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->mCropOverlayView:Lcom/droidninja/imageeditengine/views/cropimage/IEECropOverlayView;

    invoke-virtual {v1}, Lcom/droidninja/imageeditengine/views/cropimage/IEECropOverlayView;->fixCurrentCropWindowRect()V

    .line 1530
    const/4 v1, 0x0

    iput-object v1, p0, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->mRestoreCropWindowRect:Landroid/graphics/RectF;

    goto :goto_0

    .line 1531
    :cond_1
    iget-boolean v1, p0, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->mSizeChanged:Z

    if-eqz v1, :cond_3

    .line 1532
    iput-boolean v4, p0, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->mSizeChanged:Z

    .line 1533
    invoke-direct {p0, v4, v4}, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->handleCropWindowChanged(ZZ)V

    goto :goto_0

    .line 1536
    :cond_2
    invoke-direct {p0, v1}, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->updateImageBounds(Z)V

    .line 1538
    .end local v0    # "origParams":Landroid/view/ViewGroup$LayoutParams;
    :cond_3
    :goto_0
    goto :goto_1

    .line 1539
    :cond_4
    invoke-direct {p0, v1}, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->updateImageBounds(Z)V

    .line 1541
    :goto_1
    return-void
.end method

.method protected onMeasure(II)V
    .locals 12
    .param p1, "widthMeasureSpec"    # I
    .param p2, "heightMeasureSpec"    # I

    .line 1446
    invoke-super {p0, p1, p2}, Landroid/widget/FrameLayout;->onMeasure(II)V

    .line 1448
    invoke-static {p1}, Landroid/view/View$MeasureSpec;->getMode(I)I

    move-result v0

    .line 1449
    .local v0, "widthMode":I
    invoke-static {p1}, Landroid/view/View$MeasureSpec;->getSize(I)I

    move-result v1

    .line 1450
    .local v1, "widthSize":I
    invoke-static {p2}, Landroid/view/View$MeasureSpec;->getMode(I)I

    move-result v2

    .line 1451
    .local v2, "heightMode":I
    invoke-static {p2}, Landroid/view/View$MeasureSpec;->getSize(I)I

    move-result v3

    .line 1453
    .local v3, "heightSize":I
    iget-object v4, p0, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->mBitmap:Landroid/graphics/Bitmap;

    if-eqz v4, :cond_6

    .line 1456
    if-nez v3, :cond_0

    .line 1457
    invoke-virtual {v4}, Landroid/graphics/Bitmap;->getHeight()I

    move-result v3

    .line 1463
    :cond_0
    const-wide/high16 v4, 0x7ff0000000000000L    # Double.POSITIVE_INFINITY

    .line 1464
    .local v4, "viewToBitmapWidthRatio":D
    const-wide/high16 v6, 0x7ff0000000000000L    # Double.POSITIVE_INFINITY

    .line 1467
    .local v6, "viewToBitmapHeightRatio":D
    iget-object v8, p0, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->mBitmap:Landroid/graphics/Bitmap;

    invoke-virtual {v8}, Landroid/graphics/Bitmap;->getWidth()I

    move-result v8

    if-ge v1, v8, :cond_1

    .line 1468
    int-to-double v8, v1

    iget-object v10, p0, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->mBitmap:Landroid/graphics/Bitmap;

    invoke-virtual {v10}, Landroid/graphics/Bitmap;->getWidth()I

    move-result v10

    int-to-double v10, v10

    div-double v4, v8, v10

    .line 1470
    :cond_1
    iget-object v8, p0, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->mBitmap:Landroid/graphics/Bitmap;

    invoke-virtual {v8}, Landroid/graphics/Bitmap;->getHeight()I

    move-result v8

    if-ge v3, v8, :cond_2

    .line 1471
    int-to-double v8, v3

    iget-object v10, p0, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->mBitmap:Landroid/graphics/Bitmap;

    invoke-virtual {v10}, Landroid/graphics/Bitmap;->getHeight()I

    move-result v10

    int-to-double v10, v10

    div-double v6, v8, v10

    .line 1475
    :cond_2
    const-wide/high16 v8, 0x7ff0000000000000L    # Double.POSITIVE_INFINITY

    cmpl-double v10, v4, v8

    if-nez v10, :cond_4

    cmpl-double v8, v6, v8

    if-eqz v8, :cond_3

    goto :goto_0

    .line 1487
    :cond_3
    iget-object v8, p0, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->mBitmap:Landroid/graphics/Bitmap;

    invoke-virtual {v8}, Landroid/graphics/Bitmap;->getWidth()I

    move-result v8

    .line 1488
    .local v8, "desiredWidth":I
    iget-object v9, p0, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->mBitmap:Landroid/graphics/Bitmap;

    invoke-virtual {v9}, Landroid/graphics/Bitmap;->getHeight()I

    move-result v9

    .local v9, "desiredHeight":I
    goto :goto_1

    .line 1477
    .end local v8    # "desiredWidth":I
    .end local v9    # "desiredHeight":I
    :cond_4
    :goto_0
    cmpg-double v8, v4, v6

    if-gtz v8, :cond_5

    .line 1478
    move v8, v1

    .line 1479
    .restart local v8    # "desiredWidth":I
    iget-object v9, p0, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->mBitmap:Landroid/graphics/Bitmap;

    invoke-virtual {v9}, Landroid/graphics/Bitmap;->getHeight()I

    move-result v9

    int-to-double v9, v9

    mul-double/2addr v9, v4

    double-to-int v9, v9

    .restart local v9    # "desiredHeight":I
    goto :goto_1

    .line 1481
    .end local v8    # "desiredWidth":I
    .end local v9    # "desiredHeight":I
    :cond_5
    move v9, v3

    .line 1482
    .restart local v9    # "desiredHeight":I
    iget-object v8, p0, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->mBitmap:Landroid/graphics/Bitmap;

    invoke-virtual {v8}, Landroid/graphics/Bitmap;->getWidth()I

    move-result v8

    int-to-double v10, v8

    mul-double/2addr v10, v6

    double-to-int v8, v10

    .line 1491
    .restart local v8    # "desiredWidth":I
    :goto_1
    invoke-static {v0, v1, v8}, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->getOnMeasureSpec(III)I

    move-result v10

    .line 1492
    .local v10, "width":I
    invoke-static {v2, v3, v9}, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->getOnMeasureSpec(III)I

    move-result v11

    .line 1494
    .local v11, "height":I
    iput v10, p0, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->mLayoutWidth:I

    .line 1495
    iput v11, p0, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->mLayoutHeight:I

    .line 1497
    invoke-virtual {p0, v10, v11}, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->setMeasuredDimension(II)V

    .line 1499
    .end local v4    # "viewToBitmapWidthRatio":D
    .end local v6    # "viewToBitmapHeightRatio":D
    .end local v8    # "desiredWidth":I
    .end local v9    # "desiredHeight":I
    .end local v10    # "width":I
    .end local v11    # "height":I
    goto :goto_2

    .line 1500
    :cond_6
    invoke-virtual {p0, v1, v3}, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->setMeasuredDimension(II)V

    .line 1502
    :goto_2
    return-void
.end method

.method public onRestoreInstanceState(Landroid/os/Parcelable;)V
    .locals 10
    .param p1, "state"    # Landroid/os/Parcelable;

    .line 1379
    instance-of v0, p1, Landroid/os/Bundle;

    if-eqz v0, :cond_b

    .line 1380
    move-object v0, p1

    check-cast v0, Landroid/os/Bundle;

    .line 1383
    .local v0, "bundle":Landroid/os/Bundle;
    iget-object v1, p0, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->mBitmapLoadingWorkerTask:Ljava/lang/ref/WeakReference;

    if-nez v1, :cond_a

    iget-object v1, p0, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->mLoadedImageUri:Landroid/net/Uri;

    if-nez v1, :cond_a

    iget-object v1, p0, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->mBitmap:Landroid/graphics/Bitmap;

    if-nez v1, :cond_a

    iget v1, p0, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->mImageResource:I

    if-nez v1, :cond_a

    .line 1388
    const-string v1, "LOADED_IMAGE_URI"

    invoke-virtual {v0, v1}, Landroid/os/Bundle;->getParcelable(Ljava/lang/String;)Landroid/os/Parcelable;

    move-result-object v1

    check-cast v1, Landroid/net/Uri;

    .line 1389
    .local v1, "uri":Landroid/net/Uri;
    if-eqz v1, :cond_3

    .line 1390
    const-string v2, "LOADED_IMAGE_STATE_BITMAP_KEY"

    invoke-virtual {v0, v2}, Landroid/os/Bundle;->getString(Ljava/lang/String;)Ljava/lang/String;

    move-result-object v8

    .line 1391
    .local v8, "key":Ljava/lang/String;
    if-eqz v8, :cond_1

    .line 1393
    sget-object v2, Lcom/droidninja/imageeditengine/views/cropimage/BitmapUtils;->mStateBitmap:Landroid/util/Pair;

    const/4 v3, 0x0

    if-eqz v2, :cond_0

    sget-object v2, Lcom/droidninja/imageeditengine/views/cropimage/BitmapUtils;->mStateBitmap:Landroid/util/Pair;

    iget-object v2, v2, Landroid/util/Pair;->first:Ljava/lang/Object;

    check-cast v2, Ljava/lang/String;

    invoke-virtual {v2, v8}, Ljava/lang/String;->equals(Ljava/lang/Object;)Z

    move-result v2

    if-eqz v2, :cond_0

    .line 1394
    sget-object v2, Lcom/droidninja/imageeditengine/views/cropimage/BitmapUtils;->mStateBitmap:Landroid/util/Pair;

    iget-object v2, v2, Landroid/util/Pair;->second:Ljava/lang/Object;

    check-cast v2, Ljava/lang/ref/WeakReference;

    invoke-virtual {v2}, Ljava/lang/ref/WeakReference;->get()Ljava/lang/Object;

    move-result-object v2

    check-cast v2, Landroid/graphics/Bitmap;

    goto :goto_0

    .line 1395
    :cond_0
    move-object v2, v3

    :goto_0
    move-object v9, v2

    .line 1396
    .local v9, "stateBitmap":Landroid/graphics/Bitmap;
    sput-object v3, Lcom/droidninja/imageeditengine/views/cropimage/BitmapUtils;->mStateBitmap:Landroid/util/Pair;

    .line 1397
    if-eqz v9, :cond_1

    invoke-virtual {v9}, Landroid/graphics/Bitmap;->isRecycled()Z

    move-result v2

    if-nez v2, :cond_1

    .line 1398
    const/4 v4, 0x0

    const-string v2, "LOADED_SAMPLE_SIZE"

    invoke-virtual {v0, v2}, Landroid/os/Bundle;->getInt(Ljava/lang/String;)I

    move-result v6

    const/4 v7, 0x0

    move-object v2, p0

    move-object v3, v9

    move-object v5, v1

    invoke-direct/range {v2 .. v7}, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->setBitmap(Landroid/graphics/Bitmap;ILandroid/net/Uri;II)V

    .line 1401
    .end local v9    # "stateBitmap":Landroid/graphics/Bitmap;
    :cond_1
    iget-object v2, p0, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->mLoadedImageUri:Landroid/net/Uri;

    if-nez v2, :cond_2

    .line 1402
    invoke-virtual {p0, v1}, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->setImageUriAsync(Landroid/net/Uri;)V

    .line 1404
    .end local v8    # "key":Ljava/lang/String;
    :cond_2
    goto :goto_1

    .line 1405
    :cond_3
    const-string v2, "LOADED_IMAGE_RESOURCE"

    invoke-virtual {v0, v2}, Landroid/os/Bundle;->getInt(Ljava/lang/String;)I

    move-result v2

    .line 1406
    .local v2, "resId":I
    if-lez v2, :cond_4

    .line 1407
    invoke-virtual {p0, v2}, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->setImageResource(I)V

    goto :goto_1

    .line 1409
    :cond_4
    const-string v3, "LOADING_IMAGE_URI"

    invoke-virtual {v0, v3}, Landroid/os/Bundle;->getParcelable(Ljava/lang/String;)Landroid/os/Parcelable;

    move-result-object v3

    move-object v1, v3

    check-cast v1, Landroid/net/Uri;

    .line 1410
    if-eqz v1, :cond_5

    .line 1411
    invoke-virtual {p0, v1}, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->setImageUriAsync(Landroid/net/Uri;)V

    .line 1416
    .end local v2    # "resId":I
    :cond_5
    :goto_1
    const-string v2, "DEGREES_ROTATED"

    invoke-virtual {v0, v2}, Landroid/os/Bundle;->getInt(Ljava/lang/String;)I

    move-result v2

    iput v2, p0, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->mRestoreDegreesRotated:I

    iput v2, p0, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->mDegreesRotated:I

    .line 1418
    const-string v2, "INITIAL_CROP_RECT"

    invoke-virtual {v0, v2}, Landroid/os/Bundle;->getParcelable(Ljava/lang/String;)Landroid/os/Parcelable;

    move-result-object v2

    check-cast v2, Landroid/graphics/Rect;

    .line 1419
    .local v2, "initialCropRect":Landroid/graphics/Rect;
    if-eqz v2, :cond_7

    .line 1420
    invoke-virtual {v2}, Landroid/graphics/Rect;->width()I

    move-result v3

    if-gtz v3, :cond_6

    invoke-virtual {v2}, Landroid/graphics/Rect;->height()I

    move-result v3

    if-lez v3, :cond_7

    .line 1421
    :cond_6
    iget-object v3, p0, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->mCropOverlayView:Lcom/droidninja/imageeditengine/views/cropimage/IEECropOverlayView;

    invoke-virtual {v3, v2}, Lcom/droidninja/imageeditengine/views/cropimage/IEECropOverlayView;->setInitialCropWindowRect(Landroid/graphics/Rect;)V

    .line 1424
    :cond_7
    const-string v3, "CROP_WINDOW_RECT"

    invoke-virtual {v0, v3}, Landroid/os/Bundle;->getParcelable(Ljava/lang/String;)Landroid/os/Parcelable;

    move-result-object v3

    check-cast v3, Landroid/graphics/RectF;

    .line 1425
    .local v3, "cropWindowRect":Landroid/graphics/RectF;
    if-eqz v3, :cond_9

    invoke-virtual {v3}, Landroid/graphics/RectF;->width()F

    move-result v4

    const/4 v5, 0x0

    cmpl-float v4, v4, v5

    if-gtz v4, :cond_8

    invoke-virtual {v3}, Landroid/graphics/RectF;->height()F

    move-result v4

    cmpl-float v4, v4, v5

    if-lez v4, :cond_9

    .line 1426
    :cond_8
    iput-object v3, p0, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->mRestoreCropWindowRect:Landroid/graphics/RectF;

    .line 1429
    :cond_9
    iget-object v4, p0, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->mCropOverlayView:Lcom/droidninja/imageeditengine/views/cropimage/IEECropOverlayView;

    const-string v5, "CROP_SHAPE"

    invoke-virtual {v0, v5}, Landroid/os/Bundle;->getString(Ljava/lang/String;)Ljava/lang/String;

    move-result-object v5

    invoke-static {v5}, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView$CropShape;->valueOf(Ljava/lang/String;)Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView$CropShape;

    move-result-object v5

    invoke-virtual {v4, v5}, Lcom/droidninja/imageeditengine/views/cropimage/IEECropOverlayView;->setCropShape(Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView$CropShape;)V

    .line 1431
    const-string v4, "CROP_AUTO_ZOOM_ENABLED"

    invoke-virtual {v0, v4}, Landroid/os/Bundle;->getBoolean(Ljava/lang/String;)Z

    move-result v4

    iput-boolean v4, p0, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->mAutoZoomEnabled:Z

    .line 1432
    const-string v4, "CROP_MAX_ZOOM"

    invoke-virtual {v0, v4}, Landroid/os/Bundle;->getInt(Ljava/lang/String;)I

    move-result v4

    iput v4, p0, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->mMaxZoom:I

    .line 1434
    const-string v4, "CROP_FLIP_HORIZONTALLY"

    invoke-virtual {v0, v4}, Landroid/os/Bundle;->getBoolean(Ljava/lang/String;)Z

    move-result v4

    iput-boolean v4, p0, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->mFlipHorizontally:Z

    .line 1435
    const-string v4, "CROP_FLIP_VERTICALLY"

    invoke-virtual {v0, v4}, Landroid/os/Bundle;->getBoolean(Ljava/lang/String;)Z

    move-result v4

    iput-boolean v4, p0, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->mFlipVertically:Z

    .line 1438
    .end local v1    # "uri":Landroid/net/Uri;
    .end local v2    # "initialCropRect":Landroid/graphics/Rect;
    .end local v3    # "cropWindowRect":Landroid/graphics/RectF;
    :cond_a
    const-string v1, "instanceState"

    invoke-virtual {v0, v1}, Landroid/os/Bundle;->getParcelable(Ljava/lang/String;)Landroid/os/Parcelable;

    move-result-object v1

    invoke-super {p0, v1}, Landroid/widget/FrameLayout;->onRestoreInstanceState(Landroid/os/Parcelable;)V

    .line 1439
    .end local v0    # "bundle":Landroid/os/Bundle;
    goto :goto_2

    .line 1440
    :cond_b
    invoke-super {p0, p1}, Landroid/widget/FrameLayout;->onRestoreInstanceState(Landroid/os/Parcelable;)V

    .line 1442
    :goto_2
    return-void
.end method

.method public onSaveInstanceState()Landroid/os/Parcelable;
    .locals 6

    .line 1331
    iget-object v0, p0, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->mLoadedImageUri:Landroid/net/Uri;

    const/4 v1, 0x1

    if-nez v0, :cond_0

    iget-object v0, p0, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->mBitmap:Landroid/graphics/Bitmap;

    if-nez v0, :cond_0

    iget v0, p0, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->mImageResource:I

    if-ge v0, v1, :cond_0

    .line 1332
    invoke-super {p0}, Landroid/widget/FrameLayout;->onSaveInstanceState()Landroid/os/Parcelable;

    move-result-object v0

    return-object v0

    .line 1335
    :cond_0
    new-instance v0, Landroid/os/Bundle;

    invoke-direct {v0}, Landroid/os/Bundle;-><init>()V

    .line 1336
    .local v0, "bundle":Landroid/os/Bundle;
    iget-object v2, p0, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->mLoadedImageUri:Landroid/net/Uri;

    .line 1337
    .local v2, "imageUri":Landroid/net/Uri;
    iget-boolean v3, p0, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->mSaveBitmapToInstanceState:Z

    if-eqz v3, :cond_1

    if-nez v2, :cond_1

    iget v3, p0, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->mImageResource:I

    if-ge v3, v1, :cond_1

    .line 1338
    nop

    .line 1341
    invoke-virtual {p0}, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->getContext()Landroid/content/Context;

    move-result-object v1

    iget-object v3, p0, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->mBitmap:Landroid/graphics/Bitmap;

    iget-object v4, p0, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->mSaveInstanceStateBitmapUri:Landroid/net/Uri;

    .line 1340
    invoke-static {v1, v3, v4}, Lcom/droidninja/imageeditengine/views/cropimage/BitmapUtils;->writeTempStateStoreBitmap(Landroid/content/Context;Landroid/graphics/Bitmap;Landroid/net/Uri;)Landroid/net/Uri;

    move-result-object v1

    move-object v2, v1

    iput-object v1, p0, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->mSaveInstanceStateBitmapUri:Landroid/net/Uri;

    .line 1343
    :cond_1
    if-eqz v2, :cond_2

    iget-object v1, p0, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->mBitmap:Landroid/graphics/Bitmap;

    if-eqz v1, :cond_2

    .line 1344
    invoke-static {}, Ljava/util/UUID;->randomUUID()Ljava/util/UUID;

    move-result-object v1

    invoke-virtual {v1}, Ljava/util/UUID;->toString()Ljava/lang/String;

    move-result-object v1

    .line 1345
    .local v1, "key":Ljava/lang/String;
    new-instance v3, Landroid/util/Pair;

    new-instance v4, Ljava/lang/ref/WeakReference;

    iget-object v5, p0, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->mBitmap:Landroid/graphics/Bitmap;

    invoke-direct {v4, v5}, Ljava/lang/ref/WeakReference;-><init>(Ljava/lang/Object;)V

    invoke-direct {v3, v1, v4}, Landroid/util/Pair;-><init>(Ljava/lang/Object;Ljava/lang/Object;)V

    sput-object v3, Lcom/droidninja/imageeditengine/views/cropimage/BitmapUtils;->mStateBitmap:Landroid/util/Pair;

    .line 1346
    const-string v3, "LOADED_IMAGE_STATE_BITMAP_KEY"

    invoke-virtual {v0, v3, v1}, Landroid/os/Bundle;->putString(Ljava/lang/String;Ljava/lang/String;)V

    .line 1348
    .end local v1    # "key":Ljava/lang/String;
    :cond_2
    iget-object v1, p0, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->mBitmapLoadingWorkerTask:Ljava/lang/ref/WeakReference;

    if-eqz v1, :cond_3

    .line 1349
    invoke-virtual {v1}, Ljava/lang/ref/WeakReference;->get()Ljava/lang/Object;

    move-result-object v1

    check-cast v1, Lcom/droidninja/imageeditengine/views/cropimage/BitmapLoadingWorkerTask;

    .line 1350
    .local v1, "task":Lcom/droidninja/imageeditengine/views/cropimage/BitmapLoadingWorkerTask;
    if-eqz v1, :cond_3

    .line 1351
    invoke-virtual {v1}, Lcom/droidninja/imageeditengine/views/cropimage/BitmapLoadingWorkerTask;->getUri()Landroid/net/Uri;

    move-result-object v3

    const-string v4, "LOADING_IMAGE_URI"

    invoke-virtual {v0, v4, v3}, Landroid/os/Bundle;->putParcelable(Ljava/lang/String;Landroid/os/Parcelable;)V

    .line 1354
    .end local v1    # "task":Lcom/droidninja/imageeditengine/views/cropimage/BitmapLoadingWorkerTask;
    :cond_3
    invoke-super {p0}, Landroid/widget/FrameLayout;->onSaveInstanceState()Landroid/os/Parcelable;

    move-result-object v1

    const-string v3, "instanceState"

    invoke-virtual {v0, v3, v1}, Landroid/os/Bundle;->putParcelable(Ljava/lang/String;Landroid/os/Parcelable;)V

    .line 1355
    const-string v1, "LOADED_IMAGE_URI"

    invoke-virtual {v0, v1, v2}, Landroid/os/Bundle;->putParcelable(Ljava/lang/String;Landroid/os/Parcelable;)V

    .line 1356
    iget v1, p0, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->mImageResource:I

    const-string v3, "LOADED_IMAGE_RESOURCE"

    invoke-virtual {v0, v3, v1}, Landroid/os/Bundle;->putInt(Ljava/lang/String;I)V

    .line 1357
    iget v1, p0, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->mLoadedSampleSize:I

    const-string v3, "LOADED_SAMPLE_SIZE"

    invoke-virtual {v0, v3, v1}, Landroid/os/Bundle;->putInt(Ljava/lang/String;I)V

    .line 1358
    iget v1, p0, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->mDegreesRotated:I

    const-string v3, "DEGREES_ROTATED"

    invoke-virtual {v0, v3, v1}, Landroid/os/Bundle;->putInt(Ljava/lang/String;I)V

    .line 1359
    iget-object v1, p0, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->mCropOverlayView:Lcom/droidninja/imageeditengine/views/cropimage/IEECropOverlayView;

    invoke-virtual {v1}, Lcom/droidninja/imageeditengine/views/cropimage/IEECropOverlayView;->getInitialCropWindowRect()Landroid/graphics/Rect;

    move-result-object v1

    const-string v3, "INITIAL_CROP_RECT"

    invoke-virtual {v0, v3, v1}, Landroid/os/Bundle;->putParcelable(Ljava/lang/String;Landroid/os/Parcelable;)V

    .line 1361
    sget-object v1, Lcom/droidninja/imageeditengine/views/cropimage/BitmapUtils;->RECT:Landroid/graphics/RectF;

    iget-object v3, p0, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->mCropOverlayView:Lcom/droidninja/imageeditengine/views/cropimage/IEECropOverlayView;

    invoke-virtual {v3}, Lcom/droidninja/imageeditengine/views/cropimage/IEECropOverlayView;->getCropWindowRect()Landroid/graphics/RectF;

    move-result-object v3

    invoke-virtual {v1, v3}, Landroid/graphics/RectF;->set(Landroid/graphics/RectF;)V

    .line 1363
    iget-object v1, p0, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->mImageMatrix:Landroid/graphics/Matrix;

    iget-object v3, p0, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->mImageInverseMatrix:Landroid/graphics/Matrix;

    invoke-virtual {v1, v3}, Landroid/graphics/Matrix;->invert(Landroid/graphics/Matrix;)Z

    .line 1364
    iget-object v1, p0, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->mImageInverseMatrix:Landroid/graphics/Matrix;

    sget-object v3, Lcom/droidninja/imageeditengine/views/cropimage/BitmapUtils;->RECT:Landroid/graphics/RectF;

    invoke-virtual {v1, v3}, Landroid/graphics/Matrix;->mapRect(Landroid/graphics/RectF;)Z

    .line 1366
    sget-object v1, Lcom/droidninja/imageeditengine/views/cropimage/BitmapUtils;->RECT:Landroid/graphics/RectF;

    const-string v3, "CROP_WINDOW_RECT"

    invoke-virtual {v0, v3, v1}, Landroid/os/Bundle;->putParcelable(Ljava/lang/String;Landroid/os/Parcelable;)V

    .line 1367
    iget-object v1, p0, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->mCropOverlayView:Lcom/droidninja/imageeditengine/views/cropimage/IEECropOverlayView;

    invoke-virtual {v1}, Lcom/droidninja/imageeditengine/views/cropimage/IEECropOverlayView;->getCropShape()Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView$CropShape;

    move-result-object v1

    invoke-virtual {v1}, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView$CropShape;->name()Ljava/lang/String;

    move-result-object v1

    const-string v3, "CROP_SHAPE"

    invoke-virtual {v0, v3, v1}, Landroid/os/Bundle;->putString(Ljava/lang/String;Ljava/lang/String;)V

    .line 1368
    iget-boolean v1, p0, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->mAutoZoomEnabled:Z

    const-string v3, "CROP_AUTO_ZOOM_ENABLED"

    invoke-virtual {v0, v3, v1}, Landroid/os/Bundle;->putBoolean(Ljava/lang/String;Z)V

    .line 1369
    iget v1, p0, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->mMaxZoom:I

    const-string v3, "CROP_MAX_ZOOM"

    invoke-virtual {v0, v3, v1}, Landroid/os/Bundle;->putInt(Ljava/lang/String;I)V

    .line 1370
    iget-boolean v1, p0, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->mFlipHorizontally:Z

    const-string v3, "CROP_FLIP_HORIZONTALLY"

    invoke-virtual {v0, v3, v1}, Landroid/os/Bundle;->putBoolean(Ljava/lang/String;Z)V

    .line 1371
    iget-boolean v1, p0, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->mFlipVertically:Z

    const-string v3, "CROP_FLIP_VERTICALLY"

    invoke-virtual {v0, v3, v1}, Landroid/os/Bundle;->putBoolean(Ljava/lang/String;Z)V

    .line 1373
    return-object v0
.end method

.method onSetImageUriAsyncComplete(Lcom/droidninja/imageeditengine/views/cropimage/BitmapLoadingWorkerTask$Result;)V
    .locals 7
    .param p1, "result"    # Lcom/droidninja/imageeditengine/views/cropimage/BitmapLoadingWorkerTask$Result;

    .line 1140
    const/4 v0, 0x0

    iput-object v0, p0, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->mBitmapLoadingWorkerTask:Ljava/lang/ref/WeakReference;

    .line 1141
    invoke-direct {p0}, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->setProgressBarVisibility()V

    .line 1143
    iget-object v0, p1, Lcom/droidninja/imageeditengine/views/cropimage/BitmapLoadingWorkerTask$Result;->error:Ljava/lang/Exception;

    if-nez v0, :cond_0

    .line 1144
    iget v0, p1, Lcom/droidninja/imageeditengine/views/cropimage/BitmapLoadingWorkerTask$Result;->degreesRotated:I

    iput v0, p0, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->mInitialDegreesRotated:I

    .line 1145
    iget-object v2, p1, Lcom/droidninja/imageeditengine/views/cropimage/BitmapLoadingWorkerTask$Result;->bitmap:Landroid/graphics/Bitmap;

    const/4 v3, 0x0

    iget-object v4, p1, Lcom/droidninja/imageeditengine/views/cropimage/BitmapLoadingWorkerTask$Result;->uri:Landroid/net/Uri;

    iget v5, p1, Lcom/droidninja/imageeditengine/views/cropimage/BitmapLoadingWorkerTask$Result;->loadSampleSize:I

    iget v6, p1, Lcom/droidninja/imageeditengine/views/cropimage/BitmapLoadingWorkerTask$Result;->degreesRotated:I

    move-object v1, p0

    invoke-direct/range {v1 .. v6}, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->setBitmap(Landroid/graphics/Bitmap;ILandroid/net/Uri;II)V

    .line 1148
    :cond_0
    iget-object v0, p0, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->mOnSetImageUriCompleteListener:Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView$OnSetImageUriCompleteListener;

    .line 1149
    .local v0, "listener":Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView$OnSetImageUriCompleteListener;
    if-eqz v0, :cond_1

    .line 1150
    iget-object v1, p1, Lcom/droidninja/imageeditengine/views/cropimage/BitmapLoadingWorkerTask$Result;->uri:Landroid/net/Uri;

    iget-object v2, p1, Lcom/droidninja/imageeditengine/views/cropimage/BitmapLoadingWorkerTask$Result;->error:Ljava/lang/Exception;

    invoke-interface {v0, p0, v1, v2}, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView$OnSetImageUriCompleteListener;->onSetImageUriComplete(Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;Landroid/net/Uri;Ljava/lang/Exception;)V

    .line 1152
    :cond_1
    return-void
.end method

.method protected onSizeChanged(IIII)V
    .locals 1
    .param p1, "w"    # I
    .param p2, "h"    # I
    .param p3, "oldw"    # I
    .param p4, "oldh"    # I

    .line 1549
    invoke-super {p0, p1, p2, p3, p4}, Landroid/widget/FrameLayout;->onSizeChanged(IIII)V

    .line 1550
    if-lez p3, :cond_0

    if-lez p4, :cond_0

    const/4 v0, 0x1

    goto :goto_0

    :cond_0
    const/4 v0, 0x0

    :goto_0
    iput-boolean v0, p0, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->mSizeChanged:Z

    .line 1551
    return-void
.end method

.method public resetCropRect()V
    .locals 3

    .line 720
    const/high16 v0, 0x3f800000    # 1.0f

    iput v0, p0, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->mZoom:F

    .line 721
    const/4 v0, 0x0

    iput v0, p0, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->mZoomOffsetX:F

    .line 722
    iput v0, p0, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->mZoomOffsetY:F

    .line 723
    iget v0, p0, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->mInitialDegreesRotated:I

    iput v0, p0, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->mDegreesRotated:I

    .line 724
    const/4 v0, 0x0

    iput-boolean v0, p0, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->mFlipHorizontally:Z

    .line 725
    iput-boolean v0, p0, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->mFlipVertically:Z

    .line 726
    invoke-virtual {p0}, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->getWidth()I

    move-result v1

    int-to-float v1, v1

    invoke-virtual {p0}, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->getHeight()I

    move-result v2

    int-to-float v2, v2

    invoke-direct {p0, v1, v2, v0, v0}, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->applyImageMatrix(FFZZ)V

    .line 727
    iget-object v0, p0, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->mCropOverlayView:Lcom/droidninja/imageeditengine/views/cropimage/IEECropOverlayView;

    invoke-virtual {v0}, Lcom/droidninja/imageeditengine/views/cropimage/IEECropOverlayView;->resetCropWindowRect()V

    .line 728
    return-void
.end method

.method public rotateImage(I)V
    .locals 18
    .param p1, "degrees"    # I

    .line 1044
    move-object/from16 v0, p0

    move/from16 v1, p1

    iget-object v2, v0, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->mBitmap:Landroid/graphics/Bitmap;

    if-eqz v2, :cond_7

    .line 1046
    if-gez v1, :cond_0

    .line 1047
    rem-int/lit16 v2, v1, 0x168

    add-int/lit16 v2, v2, 0x168

    move v1, v2

    .end local p1    # "degrees":I
    .local v2, "degrees":I
    goto :goto_0

    .line 1049
    .end local v2    # "degrees":I
    .restart local p1    # "degrees":I
    :cond_0
    rem-int/lit16 v1, v1, 0x168

    .line 1052
    .end local p1    # "degrees":I
    .local v1, "degrees":I
    :goto_0
    iget-object v2, v0, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->mCropOverlayView:Lcom/droidninja/imageeditengine/views/cropimage/IEECropOverlayView;

    .line 1053
    invoke-virtual {v2}, Lcom/droidninja/imageeditengine/views/cropimage/IEECropOverlayView;->isFixAspectRatio()Z

    move-result v2

    const/4 v3, 0x1

    const/4 v4, 0x0

    if-nez v2, :cond_3

    const/16 v2, 0x2d

    if-le v1, v2, :cond_1

    const/16 v2, 0x87

    if-lt v1, v2, :cond_2

    :cond_1
    const/16 v2, 0xd7

    if-le v1, v2, :cond_3

    const/16 v2, 0x131

    if-ge v1, v2, :cond_3

    :cond_2
    move v2, v3

    goto :goto_1

    :cond_3
    move v2, v4

    .line 1055
    .local v2, "flipAxes":Z
    :goto_1
    sget-object v5, Lcom/droidninja/imageeditengine/views/cropimage/BitmapUtils;->RECT:Landroid/graphics/RectF;

    iget-object v6, v0, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->mCropOverlayView:Lcom/droidninja/imageeditengine/views/cropimage/IEECropOverlayView;

    invoke-virtual {v6}, Lcom/droidninja/imageeditengine/views/cropimage/IEECropOverlayView;->getCropWindowRect()Landroid/graphics/RectF;

    move-result-object v6

    invoke-virtual {v5, v6}, Landroid/graphics/RectF;->set(Landroid/graphics/RectF;)V

    .line 1056
    sget-object v5, Lcom/droidninja/imageeditengine/views/cropimage/BitmapUtils;->RECT:Landroid/graphics/RectF;

    if-eqz v2, :cond_4

    invoke-virtual {v5}, Landroid/graphics/RectF;->height()F

    move-result v5

    goto :goto_2

    :cond_4
    invoke-virtual {v5}, Landroid/graphics/RectF;->width()F

    move-result v5

    :goto_2
    const/high16 v6, 0x40000000    # 2.0f

    div-float/2addr v5, v6

    .line 1057
    .local v5, "halfWidth":F
    sget-object v7, Lcom/droidninja/imageeditengine/views/cropimage/BitmapUtils;->RECT:Landroid/graphics/RectF;

    if-eqz v2, :cond_5

    invoke-virtual {v7}, Landroid/graphics/RectF;->width()F

    move-result v7

    goto :goto_3

    :cond_5
    invoke-virtual {v7}, Landroid/graphics/RectF;->height()F

    move-result v7

    :goto_3
    div-float/2addr v7, v6

    .line 1058
    .local v7, "halfHeight":F
    if-eqz v2, :cond_6

    .line 1059
    iget-boolean v6, v0, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->mFlipHorizontally:Z

    .line 1060
    .local v6, "isFlippedHorizontally":Z
    iget-boolean v8, v0, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->mFlipVertically:Z

    iput-boolean v8, v0, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->mFlipHorizontally:Z

    .line 1061
    iput-boolean v6, v0, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->mFlipVertically:Z

    .line 1064
    .end local v6    # "isFlippedHorizontally":Z
    :cond_6
    iget-object v6, v0, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->mImageMatrix:Landroid/graphics/Matrix;

    iget-object v8, v0, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->mImageInverseMatrix:Landroid/graphics/Matrix;

    invoke-virtual {v6, v8}, Landroid/graphics/Matrix;->invert(Landroid/graphics/Matrix;)Z

    .line 1066
    sget-object v6, Lcom/droidninja/imageeditengine/views/cropimage/BitmapUtils;->POINTS:[F

    sget-object v8, Lcom/droidninja/imageeditengine/views/cropimage/BitmapUtils;->RECT:Landroid/graphics/RectF;

    invoke-virtual {v8}, Landroid/graphics/RectF;->centerX()F

    move-result v8

    aput v8, v6, v4

    .line 1067
    sget-object v6, Lcom/droidninja/imageeditengine/views/cropimage/BitmapUtils;->POINTS:[F

    sget-object v8, Lcom/droidninja/imageeditengine/views/cropimage/BitmapUtils;->RECT:Landroid/graphics/RectF;

    invoke-virtual {v8}, Landroid/graphics/RectF;->centerY()F

    move-result v8

    aput v8, v6, v3

    .line 1068
    sget-object v6, Lcom/droidninja/imageeditengine/views/cropimage/BitmapUtils;->POINTS:[F

    const/4 v8, 0x2

    const/4 v9, 0x0

    aput v9, v6, v8

    .line 1069
    sget-object v6, Lcom/droidninja/imageeditengine/views/cropimage/BitmapUtils;->POINTS:[F

    const/4 v10, 0x3

    aput v9, v6, v10

    .line 1070
    sget-object v6, Lcom/droidninja/imageeditengine/views/cropimage/BitmapUtils;->POINTS:[F

    const/4 v11, 0x4

    const/high16 v12, 0x3f800000    # 1.0f

    aput v12, v6, v11

    .line 1071
    sget-object v6, Lcom/droidninja/imageeditengine/views/cropimage/BitmapUtils;->POINTS:[F

    const/4 v13, 0x5

    aput v9, v6, v13

    .line 1072
    iget-object v6, v0, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->mImageInverseMatrix:Landroid/graphics/Matrix;

    sget-object v9, Lcom/droidninja/imageeditengine/views/cropimage/BitmapUtils;->POINTS:[F

    invoke-virtual {v6, v9}, Landroid/graphics/Matrix;->mapPoints([F)V

    .line 1075
    iget v6, v0, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->mDegreesRotated:I

    add-int/2addr v6, v1

    rem-int/lit16 v6, v6, 0x168

    iput v6, v0, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->mDegreesRotated:I

    .line 1077
    invoke-virtual/range {p0 .. p0}, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->getWidth()I

    move-result v6

    int-to-float v6, v6

    invoke-virtual/range {p0 .. p0}, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->getHeight()I

    move-result v9

    int-to-float v9, v9

    invoke-direct {v0, v6, v9, v3, v4}, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->applyImageMatrix(FFZZ)V

    .line 1080
    iget-object v6, v0, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->mImageMatrix:Landroid/graphics/Matrix;

    sget-object v9, Lcom/droidninja/imageeditengine/views/cropimage/BitmapUtils;->POINTS2:[F

    sget-object v14, Lcom/droidninja/imageeditengine/views/cropimage/BitmapUtils;->POINTS:[F

    invoke-virtual {v6, v9, v14}, Landroid/graphics/Matrix;->mapPoints([F[F)V

    .line 1081
    iget v6, v0, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->mZoom:F

    float-to-double v14, v6

    sget-object v6, Lcom/droidninja/imageeditengine/views/cropimage/BitmapUtils;->POINTS2:[F

    aget v6, v6, v11

    sget-object v9, Lcom/droidninja/imageeditengine/views/cropimage/BitmapUtils;->POINTS2:[F

    aget v9, v9, v8

    sub-float/2addr v6, v9

    float-to-double v8, v6

    .line 1083
    const-wide/high16 v3, 0x4000000000000000L    # 2.0

    invoke-static {v8, v9, v3, v4}, Ljava/lang/Math;->pow(DD)D

    move-result-wide v8

    sget-object v16, Lcom/droidninja/imageeditengine/views/cropimage/BitmapUtils;->POINTS2:[F

    aget v16, v16, v13

    sget-object v17, Lcom/droidninja/imageeditengine/views/cropimage/BitmapUtils;->POINTS2:[F

    aget v17, v17, v10

    sub-float v6, v16, v17

    float-to-double v10, v6

    .line 1084
    invoke-static {v10, v11, v3, v4}, Ljava/lang/Math;->pow(DD)D

    move-result-wide v10

    add-double/2addr v8, v10

    .line 1082
    invoke-static {v8, v9}, Ljava/lang/Math;->sqrt(D)D

    move-result-wide v8

    div-double/2addr v14, v8

    double-to-float v6, v14

    iput v6, v0, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->mZoom:F

    .line 1085
    invoke-static {v6, v12}, Ljava/lang/Math;->max(FF)F

    move-result v6

    iput v6, v0, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->mZoom:F

    .line 1087
    invoke-virtual/range {p0 .. p0}, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->getWidth()I

    move-result v6

    int-to-float v6, v6

    invoke-virtual/range {p0 .. p0}, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->getHeight()I

    move-result v8

    int-to-float v8, v8

    const/4 v9, 0x1

    const/4 v10, 0x0

    invoke-direct {v0, v6, v8, v9, v10}, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->applyImageMatrix(FFZZ)V

    .line 1089
    iget-object v8, v0, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->mImageMatrix:Landroid/graphics/Matrix;

    sget-object v9, Lcom/droidninja/imageeditengine/views/cropimage/BitmapUtils;->POINTS2:[F

    sget-object v10, Lcom/droidninja/imageeditengine/views/cropimage/BitmapUtils;->POINTS:[F

    invoke-virtual {v8, v9, v10}, Landroid/graphics/Matrix;->mapPoints([F[F)V

    .line 1092
    sget-object v8, Lcom/droidninja/imageeditengine/views/cropimage/BitmapUtils;->POINTS2:[F

    const/4 v9, 0x4

    aget v8, v8, v9

    sget-object v9, Lcom/droidninja/imageeditengine/views/cropimage/BitmapUtils;->POINTS2:[F

    const/4 v10, 0x2

    aget v9, v9, v10

    sub-float/2addr v8, v9

    float-to-double v8, v8

    .line 1094
    invoke-static {v8, v9, v3, v4}, Ljava/lang/Math;->pow(DD)D

    move-result-wide v8

    sget-object v10, Lcom/droidninja/imageeditengine/views/cropimage/BitmapUtils;->POINTS2:[F

    aget v10, v10, v13

    sget-object v11, Lcom/droidninja/imageeditengine/views/cropimage/BitmapUtils;->POINTS2:[F

    const/4 v12, 0x3

    aget v11, v11, v12

    sub-float/2addr v10, v11

    float-to-double v10, v10

    .line 1095
    invoke-static {v10, v11, v3, v4}, Ljava/lang/Math;->pow(DD)D

    move-result-wide v3

    add-double/2addr v8, v3

    .line 1093
    invoke-static {v8, v9}, Ljava/lang/Math;->sqrt(D)D

    move-result-wide v3

    .line 1096
    .local v3, "change":D
    float-to-double v8, v5

    mul-double/2addr v8, v3

    double-to-float v5, v8

    .line 1097
    float-to-double v8, v7

    mul-double/2addr v8, v3

    double-to-float v7, v8

    .line 1101
    sget-object v8, Lcom/droidninja/imageeditengine/views/cropimage/BitmapUtils;->RECT:Landroid/graphics/RectF;

    sget-object v9, Lcom/droidninja/imageeditengine/views/cropimage/BitmapUtils;->POINTS2:[F

    const/4 v10, 0x0

    aget v9, v9, v10

    sub-float/2addr v9, v5

    sget-object v11, Lcom/droidninja/imageeditengine/views/cropimage/BitmapUtils;->POINTS2:[F

    const/4 v6, 0x1

    aget v11, v11, v6

    sub-float/2addr v11, v7

    sget-object v12, Lcom/droidninja/imageeditengine/views/cropimage/BitmapUtils;->POINTS2:[F

    aget v12, v12, v10

    add-float/2addr v12, v5

    sget-object v10, Lcom/droidninja/imageeditengine/views/cropimage/BitmapUtils;->POINTS2:[F

    aget v10, v10, v6

    add-float/2addr v10, v7

    invoke-virtual {v8, v9, v11, v12, v10}, Landroid/graphics/RectF;->set(FFFF)V

    .line 1107
    iget-object v8, v0, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->mCropOverlayView:Lcom/droidninja/imageeditengine/views/cropimage/IEECropOverlayView;

    invoke-virtual {v8}, Lcom/droidninja/imageeditengine/views/cropimage/IEECropOverlayView;->resetCropOverlayView()V

    .line 1108
    iget-object v8, v0, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->mCropOverlayView:Lcom/droidninja/imageeditengine/views/cropimage/IEECropOverlayView;

    sget-object v9, Lcom/droidninja/imageeditengine/views/cropimage/BitmapUtils;->RECT:Landroid/graphics/RectF;

    invoke-virtual {v8, v9}, Lcom/droidninja/imageeditengine/views/cropimage/IEECropOverlayView;->setCropWindowRect(Landroid/graphics/RectF;)V

    .line 1109
    invoke-virtual/range {p0 .. p0}, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->getWidth()I

    move-result v8

    int-to-float v8, v8

    invoke-virtual/range {p0 .. p0}, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->getHeight()I

    move-result v9

    int-to-float v9, v9

    const/4 v6, 0x1

    const/4 v10, 0x0

    invoke-direct {v0, v8, v9, v6, v10}, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->applyImageMatrix(FFZZ)V

    .line 1110
    invoke-direct {v0, v10, v10}, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->handleCropWindowChanged(ZZ)V

    .line 1114
    iget-object v6, v0, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->mCropOverlayView:Lcom/droidninja/imageeditengine/views/cropimage/IEECropOverlayView;

    invoke-virtual {v6}, Lcom/droidninja/imageeditengine/views/cropimage/IEECropOverlayView;->fixCurrentCropWindowRect()V

    .line 1116
    .end local v2    # "flipAxes":Z
    .end local v3    # "change":D
    .end local v5    # "halfWidth":F
    .end local v7    # "halfHeight":F
    :cond_7
    return-void
.end method

.method public saveCroppedImageAsync(Landroid/net/Uri;)V
    .locals 7
    .param p1, "saveUri"    # Landroid/net/Uri;

    .line 854
    sget-object v2, Landroid/graphics/Bitmap$CompressFormat;->JPEG:Landroid/graphics/Bitmap$CompressFormat;

    sget-object v6, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView$RequestSizeOptions;->NONE:Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView$RequestSizeOptions;

    const/16 v3, 0x5a

    const/4 v4, 0x0

    const/4 v5, 0x0

    move-object v0, p0

    move-object v1, p1

    invoke-virtual/range {v0 .. v6}, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->saveCroppedImageAsync(Landroid/net/Uri;Landroid/graphics/Bitmap$CompressFormat;IIILcom/droidninja/imageeditengine/views/cropimage/IEECropImageView$RequestSizeOptions;)V

    .line 855
    return-void
.end method

.method public saveCroppedImageAsync(Landroid/net/Uri;Landroid/graphics/Bitmap$CompressFormat;I)V
    .locals 7
    .param p1, "saveUri"    # Landroid/net/Uri;
    .param p2, "saveCompressFormat"    # Landroid/graphics/Bitmap$CompressFormat;
    .param p3, "saveCompressQuality"    # I

    .line 868
    sget-object v6, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView$RequestSizeOptions;->NONE:Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView$RequestSizeOptions;

    const/4 v4, 0x0

    const/4 v5, 0x0

    move-object v0, p0

    move-object v1, p1

    move-object v2, p2

    move v3, p3

    invoke-virtual/range {v0 .. v6}, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->saveCroppedImageAsync(Landroid/net/Uri;Landroid/graphics/Bitmap$CompressFormat;IIILcom/droidninja/imageeditengine/views/cropimage/IEECropImageView$RequestSizeOptions;)V

    .line 870
    return-void
.end method

.method public saveCroppedImageAsync(Landroid/net/Uri;Landroid/graphics/Bitmap$CompressFormat;III)V
    .locals 7
    .param p1, "saveUri"    # Landroid/net/Uri;
    .param p2, "saveCompressFormat"    # Landroid/graphics/Bitmap$CompressFormat;
    .param p3, "saveCompressQuality"    # I
    .param p4, "reqWidth"    # I
    .param p5, "reqHeight"    # I

    .line 890
    sget-object v6, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView$RequestSizeOptions;->RESIZE_INSIDE:Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView$RequestSizeOptions;

    move-object v0, p0

    move-object v1, p1

    move-object v2, p2

    move v3, p3

    move v4, p4

    move v5, p5

    invoke-virtual/range {v0 .. v6}, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->saveCroppedImageAsync(Landroid/net/Uri;Landroid/graphics/Bitmap$CompressFormat;IIILcom/droidninja/imageeditengine/views/cropimage/IEECropImageView$RequestSizeOptions;)V

    .line 897
    return-void
.end method

.method public saveCroppedImageAsync(Landroid/net/Uri;Landroid/graphics/Bitmap$CompressFormat;IIILcom/droidninja/imageeditengine/views/cropimage/IEECropImageView$RequestSizeOptions;)V
    .locals 7
    .param p1, "saveUri"    # Landroid/net/Uri;
    .param p2, "saveCompressFormat"    # Landroid/graphics/Bitmap$CompressFormat;
    .param p3, "saveCompressQuality"    # I
    .param p4, "reqWidth"    # I
    .param p5, "reqHeight"    # I
    .param p6, "options"    # Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView$RequestSizeOptions;

    .line 918
    iget-object v0, p0, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->mOnCropImageCompleteListener:Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView$OnCropImageCompleteListener;

    if-eqz v0, :cond_0

    .line 921
    move-object v0, p0

    move v1, p4

    move v2, p5

    move-object v3, p6

    move-object v4, p1

    move-object v5, p2

    move v6, p3

    invoke-virtual/range {v0 .. v6}, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->startCropWorkerTask(IILcom/droidninja/imageeditengine/views/cropimage/IEECropImageView$RequestSizeOptions;Landroid/net/Uri;Landroid/graphics/Bitmap$CompressFormat;I)V

    .line 923
    return-void

    .line 919
    :cond_0
    new-instance v0, Ljava/lang/IllegalArgumentException;

    const-string v1, "mOnCropImageCompleteListener is not set"

    invoke-direct {v0, v1}, Ljava/lang/IllegalArgumentException;-><init>(Ljava/lang/String;)V

    throw v0
.end method

.method public setAspectRatio(II)V
    .locals 1
    .param p1, "aspectRatioX"    # I
    .param p2, "aspectRatioY"    # I

    .line 522
    iget-object v0, p0, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->mCropOverlayView:Lcom/droidninja/imageeditengine/views/cropimage/IEECropOverlayView;

    invoke-virtual {v0, p1}, Lcom/droidninja/imageeditengine/views/cropimage/IEECropOverlayView;->setAspectRatioX(I)V

    .line 523
    iget-object v0, p0, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->mCropOverlayView:Lcom/droidninja/imageeditengine/views/cropimage/IEECropOverlayView;

    invoke-virtual {v0, p2}, Lcom/droidninja/imageeditengine/views/cropimage/IEECropOverlayView;->setAspectRatioY(I)V

    .line 524
    const/4 v0, 0x1

    invoke-virtual {p0, v0}, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->setFixedAspectRatio(Z)V

    .line 525
    return-void
.end method

.method public setAutoZoomEnabled(Z)V
    .locals 1
    .param p1, "autoZoomEnabled"    # Z

    .line 389
    iget-boolean v0, p0, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->mAutoZoomEnabled:Z

    if-eq v0, p1, :cond_0

    .line 390
    iput-boolean p1, p0, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->mAutoZoomEnabled:Z

    .line 391
    const/4 v0, 0x0

    invoke-direct {p0, v0, v0}, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->handleCropWindowChanged(ZZ)V

    .line 392
    iget-object v0, p0, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->mCropOverlayView:Lcom/droidninja/imageeditengine/views/cropimage/IEECropOverlayView;

    invoke-virtual {v0}, Lcom/droidninja/imageeditengine/views/cropimage/IEECropOverlayView;->invalidate()V

    .line 394
    :cond_0
    return-void
.end method

.method public setCropRect(Landroid/graphics/Rect;)V
    .locals 1
    .param p1, "rect"    # Landroid/graphics/Rect;

    .line 715
    iget-object v0, p0, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->mCropOverlayView:Lcom/droidninja/imageeditengine/views/cropimage/IEECropOverlayView;

    invoke-virtual {v0, p1}, Lcom/droidninja/imageeditengine/views/cropimage/IEECropOverlayView;->setInitialCropWindowRect(Landroid/graphics/Rect;)V

    .line 716
    return-void
.end method

.method public setCropShape(Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView$CropShape;)V
    .locals 1
    .param p1, "cropShape"    # Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView$CropShape;

    .line 379
    iget-object v0, p0, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->mCropOverlayView:Lcom/droidninja/imageeditengine/views/cropimage/IEECropOverlayView;

    invoke-virtual {v0, p1}, Lcom/droidninja/imageeditengine/views/cropimage/IEECropOverlayView;->setCropShape(Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView$CropShape;)V

    .line 380
    return-void
.end method

.method public setFixedAspectRatio(Z)V
    .locals 1
    .param p1, "fixAspectRatio"    # Z

    .line 467
    iget-object v0, p0, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->mCropOverlayView:Lcom/droidninja/imageeditengine/views/cropimage/IEECropOverlayView;

    invoke-virtual {v0, p1}, Lcom/droidninja/imageeditengine/views/cropimage/IEECropOverlayView;->setFixedAspectRatio(Z)V

    .line 468
    return-void
.end method

.method public setFlippedHorizontally(Z)V
    .locals 4
    .param p1, "flipHorizontally"    # Z

    .line 477
    iget-boolean v0, p0, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->mFlipHorizontally:Z

    if-eq v0, p1, :cond_0

    .line 478
    iput-boolean p1, p0, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->mFlipHorizontally:Z

    .line 479
    invoke-virtual {p0}, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->getWidth()I

    move-result v0

    int-to-float v0, v0

    invoke-virtual {p0}, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->getHeight()I

    move-result v1

    int-to-float v1, v1

    const/4 v2, 0x1

    const/4 v3, 0x0

    invoke-direct {p0, v0, v1, v2, v3}, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->applyImageMatrix(FFZZ)V

    .line 481
    :cond_0
    return-void
.end method

.method public setFlippedVertically(Z)V
    .locals 4
    .param p1, "flipVertically"    # Z

    .line 490
    iget-boolean v0, p0, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->mFlipVertically:Z

    if-eq v0, p1, :cond_0

    .line 491
    iput-boolean p1, p0, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->mFlipVertically:Z

    .line 492
    invoke-virtual {p0}, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->getWidth()I

    move-result v0

    int-to-float v0, v0

    invoke-virtual {p0}, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->getHeight()I

    move-result v1

    int-to-float v1, v1

    const/4 v2, 0x1

    const/4 v3, 0x0

    invoke-direct {p0, v0, v1, v2, v3}, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->applyImageMatrix(FFZZ)V

    .line 494
    :cond_0
    return-void
.end method

.method public setGuidelines(Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView$Guidelines;)V
    .locals 1
    .param p1, "guidelines"    # Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView$Guidelines;

    .line 506
    iget-object v0, p0, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->mCropOverlayView:Lcom/droidninja/imageeditengine/views/cropimage/IEECropOverlayView;

    invoke-virtual {v0, p1}, Lcom/droidninja/imageeditengine/views/cropimage/IEECropOverlayView;->setGuidelines(Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView$Guidelines;)V

    .line 507
    return-void
.end method

.method public setImageBitmap(Landroid/graphics/Bitmap;)V
    .locals 8
    .param p1, "bitmap"    # Landroid/graphics/Bitmap;

    .line 962
    iget-object v0, p0, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->mCropOverlayView:Lcom/droidninja/imageeditengine/views/cropimage/IEECropOverlayView;

    const/4 v1, 0x0

    invoke-virtual {v0, v1}, Lcom/droidninja/imageeditengine/views/cropimage/IEECropOverlayView;->setInitialCropWindowRect(Landroid/graphics/Rect;)V

    .line 963
    const/4 v4, 0x0

    const/4 v5, 0x0

    const/4 v6, 0x1

    const/4 v7, 0x0

    move-object v2, p0

    move-object v3, p1

    invoke-direct/range {v2 .. v7}, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->setBitmap(Landroid/graphics/Bitmap;ILandroid/net/Uri;II)V

    .line 964
    return-void
.end method

.method public setImageBitmap(Landroid/graphics/Bitmap;Landroid/media/ExifInterface;)V
    .locals 9
    .param p1, "bitmap"    # Landroid/graphics/Bitmap;
    .param p2, "exif"    # Landroid/media/ExifInterface;

    .line 977
    const/4 v0, 0x0

    .line 978
    .local v0, "degreesRotated":I
    if-eqz p1, :cond_0

    if-eqz p2, :cond_0

    .line 979
    invoke-static {p1, p2}, Lcom/droidninja/imageeditengine/views/cropimage/BitmapUtils;->rotateBitmapByExif(Landroid/graphics/Bitmap;Landroid/media/ExifInterface;)Lcom/droidninja/imageeditengine/views/cropimage/BitmapUtils$RotateBitmapResult;

    move-result-object v1

    .line 980
    .local v1, "result":Lcom/droidninja/imageeditengine/views/cropimage/BitmapUtils$RotateBitmapResult;
    iget-object v2, v1, Lcom/droidninja/imageeditengine/views/cropimage/BitmapUtils$RotateBitmapResult;->bitmap:Landroid/graphics/Bitmap;

    .line 981
    .local v2, "setBitmap":Landroid/graphics/Bitmap;
    iget v0, v1, Lcom/droidninja/imageeditengine/views/cropimage/BitmapUtils$RotateBitmapResult;->degrees:I

    .line 982
    iget v3, v1, Lcom/droidninja/imageeditengine/views/cropimage/BitmapUtils$RotateBitmapResult;->degrees:I

    iput v3, p0, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->mInitialDegreesRotated:I

    .line 983
    .end local v1    # "result":Lcom/droidninja/imageeditengine/views/cropimage/BitmapUtils$RotateBitmapResult;
    goto :goto_0

    .line 984
    .end local v2    # "setBitmap":Landroid/graphics/Bitmap;
    :cond_0
    move-object v2, p1

    .line 986
    .restart local v2    # "setBitmap":Landroid/graphics/Bitmap;
    :goto_0
    iget-object v1, p0, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->mCropOverlayView:Lcom/droidninja/imageeditengine/views/cropimage/IEECropOverlayView;

    const/4 v3, 0x0

    invoke-virtual {v1, v3}, Lcom/droidninja/imageeditengine/views/cropimage/IEECropOverlayView;->setInitialCropWindowRect(Landroid/graphics/Rect;)V

    .line 987
    const/4 v5, 0x0

    const/4 v6, 0x0

    const/4 v7, 0x1

    move-object v3, p0

    move-object v4, v2

    move v8, v0

    invoke-direct/range {v3 .. v8}, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->setBitmap(Landroid/graphics/Bitmap;ILandroid/net/Uri;II)V

    .line 988
    return-void
.end method

.method public setImageResource(I)V
    .locals 7
    .param p1, "resId"    # I

    .line 996
    if-eqz p1, :cond_0

    .line 997
    iget-object v0, p0, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->mCropOverlayView:Lcom/droidninja/imageeditengine/views/cropimage/IEECropOverlayView;

    const/4 v1, 0x0

    invoke-virtual {v0, v1}, Lcom/droidninja/imageeditengine/views/cropimage/IEECropOverlayView;->setInitialCropWindowRect(Landroid/graphics/Rect;)V

    .line 998
    invoke-virtual {p0}, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->getResources()Landroid/content/res/Resources;

    move-result-object v0

    invoke-static {v0, p1}, Landroid/graphics/BitmapFactory;->decodeResource(Landroid/content/res/Resources;I)Landroid/graphics/Bitmap;

    move-result-object v0

    .line 999
    .local v0, "bitmap":Landroid/graphics/Bitmap;
    const/4 v4, 0x0

    const/4 v5, 0x1

    const/4 v6, 0x0

    move-object v1, p0

    move-object v2, v0

    move v3, p1

    invoke-direct/range {v1 .. v6}, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->setBitmap(Landroid/graphics/Bitmap;ILandroid/net/Uri;II)V

    .line 1001
    .end local v0    # "bitmap":Landroid/graphics/Bitmap;
    :cond_0
    return-void
.end method

.method public setImageUriAsync(Landroid/net/Uri;)V
    .locals 4
    .param p1, "uri"    # Landroid/net/Uri;

    .line 1011
    if-eqz p1, :cond_2

    .line 1013
    iget-object v0, p0, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->mBitmapLoadingWorkerTask:Ljava/lang/ref/WeakReference;

    const/4 v1, 0x0

    if-eqz v0, :cond_0

    invoke-virtual {v0}, Ljava/lang/ref/WeakReference;->get()Ljava/lang/Object;

    move-result-object v0

    check-cast v0, Lcom/droidninja/imageeditengine/views/cropimage/BitmapLoadingWorkerTask;

    goto :goto_0

    :cond_0
    move-object v0, v1

    .line 1014
    .local v0, "currentTask":Lcom/droidninja/imageeditengine/views/cropimage/BitmapLoadingWorkerTask;
    :goto_0
    if-eqz v0, :cond_1

    .line 1017
    const/4 v2, 0x1

    invoke-virtual {v0, v2}, Lcom/droidninja/imageeditengine/views/cropimage/BitmapLoadingWorkerTask;->cancel(Z)Z

    .line 1021
    :cond_1
    invoke-direct {p0}, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->clearImageInt()V

    .line 1022
    iput-object v1, p0, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->mRestoreCropWindowRect:Landroid/graphics/RectF;

    .line 1023
    const/4 v2, 0x0

    iput v2, p0, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->mRestoreDegreesRotated:I

    .line 1024
    iget-object v3, p0, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->mCropOverlayView:Lcom/droidninja/imageeditengine/views/cropimage/IEECropOverlayView;

    invoke-virtual {v3, v1}, Lcom/droidninja/imageeditengine/views/cropimage/IEECropOverlayView;->setInitialCropWindowRect(Landroid/graphics/Rect;)V

    .line 1025
    new-instance v1, Ljava/lang/ref/WeakReference;

    new-instance v3, Lcom/droidninja/imageeditengine/views/cropimage/BitmapLoadingWorkerTask;

    invoke-direct {v3, p0, p1}, Lcom/droidninja/imageeditengine/views/cropimage/BitmapLoadingWorkerTask;-><init>(Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;Landroid/net/Uri;)V

    invoke-direct {v1, v3}, Ljava/lang/ref/WeakReference;-><init>(Ljava/lang/Object;)V

    iput-object v1, p0, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->mBitmapLoadingWorkerTask:Ljava/lang/ref/WeakReference;

    .line 1026
    invoke-virtual {v1}, Ljava/lang/ref/WeakReference;->get()Ljava/lang/Object;

    move-result-object v1

    check-cast v1, Lcom/droidninja/imageeditengine/views/cropimage/BitmapLoadingWorkerTask;

    sget-object v3, Landroid/os/AsyncTask;->THREAD_POOL_EXECUTOR:Ljava/util/concurrent/Executor;

    new-array v2, v2, [Ljava/lang/Void;

    invoke-virtual {v1, v3, v2}, Lcom/droidninja/imageeditengine/views/cropimage/BitmapLoadingWorkerTask;->executeOnExecutor(Ljava/util/concurrent/Executor;[Ljava/lang/Object;)Landroid/os/AsyncTask;

    .line 1027
    invoke-direct {p0}, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->setProgressBarVisibility()V

    .line 1029
    .end local v0    # "currentTask":Lcom/droidninja/imageeditengine/views/cropimage/BitmapLoadingWorkerTask;
    :cond_2
    return-void
.end method

.method public setMaxCropResultSize(II)V
    .locals 1
    .param p1, "maxCropResultWidth"    # I
    .param p2, "maxCropResultHeight"    # I

    .line 431
    iget-object v0, p0, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->mCropOverlayView:Lcom/droidninja/imageeditengine/views/cropimage/IEECropOverlayView;

    invoke-virtual {v0, p1, p2}, Lcom/droidninja/imageeditengine/views/cropimage/IEECropOverlayView;->setMaxCropResultSize(II)V

    .line 432
    return-void
.end method

.method public setMaxZoom(I)V
    .locals 1
    .param p1, "maxZoom"    # I

    .line 411
    iget v0, p0, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->mMaxZoom:I

    if-eq v0, p1, :cond_0

    if-lez p1, :cond_0

    .line 412
    iput p1, p0, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->mMaxZoom:I

    .line 413
    const/4 v0, 0x0

    invoke-direct {p0, v0, v0}, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->handleCropWindowChanged(ZZ)V

    .line 414
    iget-object v0, p0, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->mCropOverlayView:Lcom/droidninja/imageeditengine/views/cropimage/IEECropOverlayView;

    invoke-virtual {v0}, Lcom/droidninja/imageeditengine/views/cropimage/IEECropOverlayView;->invalidate()V

    .line 416
    :cond_0
    return-void
.end method

.method public setMinCropResultSize(II)V
    .locals 1
    .param p1, "minCropResultWidth"    # I
    .param p2, "minCropResultHeight"    # I

    .line 423
    iget-object v0, p0, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->mCropOverlayView:Lcom/droidninja/imageeditengine/views/cropimage/IEECropOverlayView;

    invoke-virtual {v0, p1, p2}, Lcom/droidninja/imageeditengine/views/cropimage/IEECropOverlayView;->setMinCropResultSize(II)V

    .line 424
    return-void
.end method

.method public setMultiTouchEnabled(Z)V
    .locals 1
    .param p1, "multiTouchEnabled"    # Z

    .line 398
    iget-object v0, p0, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->mCropOverlayView:Lcom/droidninja/imageeditengine/views/cropimage/IEECropOverlayView;

    invoke-virtual {v0, p1}, Lcom/droidninja/imageeditengine/views/cropimage/IEECropOverlayView;->setMultiTouchEnabled(Z)Z

    move-result v0

    if-eqz v0, :cond_0

    .line 399
    const/4 v0, 0x0

    invoke-direct {p0, v0, v0}, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->handleCropWindowChanged(ZZ)V

    .line 400
    iget-object v0, p0, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->mCropOverlayView:Lcom/droidninja/imageeditengine/views/cropimage/IEECropOverlayView;

    invoke-virtual {v0}, Lcom/droidninja/imageeditengine/views/cropimage/IEECropOverlayView;->invalidate()V

    .line 402
    :cond_0
    return-void
.end method

.method public setOnCropImageCompleteListener(Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView$OnCropImageCompleteListener;)V
    .locals 0
    .param p1, "listener"    # Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView$OnCropImageCompleteListener;

    .line 953
    iput-object p1, p0, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->mOnCropImageCompleteListener:Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView$OnCropImageCompleteListener;

    .line 954
    return-void
.end method

.method public setOnCropWindowChangedListener(Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView$OnSetCropWindowChangeListener;)V
    .locals 0
    .param p1, "listener"    # Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView$OnSetCropWindowChangeListener;

    .line 937
    iput-object p1, p0, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->mOnSetCropWindowChangeListener:Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView$OnSetCropWindowChangeListener;

    .line 938
    return-void
.end method

.method public setOnSetCropOverlayMovedListener(Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView$OnSetCropOverlayMovedListener;)V
    .locals 0
    .param p1, "listener"    # Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView$OnSetCropOverlayMovedListener;

    .line 932
    iput-object p1, p0, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->mOnSetCropOverlayMovedListener:Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView$OnSetCropOverlayMovedListener;

    .line 933
    return-void
.end method

.method public setOnSetCropOverlayReleasedListener(Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView$OnSetCropOverlayReleasedListener;)V
    .locals 0
    .param p1, "listener"    # Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView$OnSetCropOverlayReleasedListener;

    .line 927
    iput-object p1, p0, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->mOnCropOverlayReleasedListener:Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView$OnSetCropOverlayReleasedListener;

    .line 928
    return-void
.end method

.method public setOnSetImageUriCompleteListener(Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView$OnSetImageUriCompleteListener;)V
    .locals 0
    .param p1, "listener"    # Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView$OnSetImageUriCompleteListener;

    .line 945
    iput-object p1, p0, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->mOnSetImageUriCompleteListener:Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView$OnSetImageUriCompleteListener;

    .line 946
    return-void
.end method

.method public setRotatedDegrees(I)V
    .locals 1
    .param p1, "degrees"    # I

    .line 449
    iget v0, p0, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->mDegreesRotated:I

    if-eq v0, p1, :cond_0

    .line 450
    sub-int v0, p1, v0

    invoke-virtual {p0, v0}, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->rotateImage(I)V

    .line 452
    :cond_0
    return-void
.end method

.method public setSaveBitmapToInstanceState(Z)V
    .locals 0
    .param p1, "saveBitmapToInstanceState"    # Z

    .line 602
    iput-boolean p1, p0, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->mSaveBitmapToInstanceState:Z

    .line 603
    return-void
.end method

.method public setScaleType(Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView$ScaleType;)V
    .locals 1
    .param p1, "scaleType"    # Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView$ScaleType;

    .line 360
    iget-object v0, p0, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->mScaleType:Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView$ScaleType;

    if-eq p1, v0, :cond_0

    .line 361
    iput-object p1, p0, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->mScaleType:Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView$ScaleType;

    .line 362
    const/high16 v0, 0x3f800000    # 1.0f

    iput v0, p0, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->mZoom:F

    .line 363
    const/4 v0, 0x0

    iput v0, p0, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->mZoomOffsetY:F

    iput v0, p0, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->mZoomOffsetX:F

    .line 364
    iget-object v0, p0, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->mCropOverlayView:Lcom/droidninja/imageeditengine/views/cropimage/IEECropOverlayView;

    invoke-virtual {v0}, Lcom/droidninja/imageeditengine/views/cropimage/IEECropOverlayView;->resetCropOverlayView()V

    .line 365
    invoke-virtual {p0}, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->requestLayout()V

    .line 367
    :cond_0
    return-void
.end method

.method public setShowCropOverlay(Z)V
    .locals 1
    .param p1, "showCropOverlay"    # Z

    .line 579
    iget-boolean v0, p0, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->mShowCropOverlay:Z

    if-eq v0, p1, :cond_0

    .line 580
    iput-boolean p1, p0, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->mShowCropOverlay:Z

    .line 581
    invoke-direct {p0}, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->setCropOverlayVisibility()V

    .line 583
    :cond_0
    return-void
.end method

.method public setShowProgressBar(Z)V
    .locals 1
    .param p1, "showProgressBar"    # Z

    .line 558
    iget-boolean v0, p0, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->mShowProgressBar:Z

    if-eq v0, p1, :cond_0

    .line 559
    iput-boolean p1, p0, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->mShowProgressBar:Z

    .line 560
    invoke-direct {p0}, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->setProgressBarVisibility()V

    .line 562
    :cond_0
    return-void
.end method

.method public setSnapRadius(F)V
    .locals 1
    .param p1, "snapRadius"    # F

    .line 540
    const/4 v0, 0x0

    cmpl-float v0, p1, v0

    if-ltz v0, :cond_0

    .line 541
    iget-object v0, p0, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->mCropOverlayView:Lcom/droidninja/imageeditengine/views/cropimage/IEECropOverlayView;

    invoke-virtual {v0, p1}, Lcom/droidninja/imageeditengine/views/cropimage/IEECropOverlayView;->setSnapRadius(F)V

    .line 543
    :cond_0
    return-void
.end method

.method public startCropWorkerTask(IILcom/droidninja/imageeditengine/views/cropimage/IEECropImageView$RequestSizeOptions;Landroid/net/Uri;Landroid/graphics/Bitmap$CompressFormat;I)V
    .locals 34
    .param p1, "reqWidth"    # I
    .param p2, "reqHeight"    # I
    .param p3, "options"    # Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView$RequestSizeOptions;
    .param p4, "saveUri"    # Landroid/net/Uri;
    .param p5, "saveCompressFormat"    # Landroid/graphics/Bitmap$CompressFormat;
    .param p6, "saveCompressQuality"    # I

    .line 1266
    move-object/from16 v15, p0

    move-object/from16 v14, p3

    iget-object v6, v15, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->mBitmap:Landroid/graphics/Bitmap;

    .line 1267
    .local v6, "bitmap":Landroid/graphics/Bitmap;
    if-eqz v6, :cond_7

    .line 1268
    iget-object v0, v15, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->mImageView:Landroid/widget/ImageView;

    invoke-virtual {v0}, Landroid/widget/ImageView;->clearAnimation()V

    .line 1271
    iget-object v0, v15, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->mBitmapCroppingWorkerTask:Ljava/lang/ref/WeakReference;

    if-eqz v0, :cond_0

    invoke-virtual {v0}, Ljava/lang/ref/WeakReference;->get()Ljava/lang/Object;

    move-result-object v0

    check-cast v0, Lcom/droidninja/imageeditengine/views/cropimage/BitmapCroppingWorkerTask;

    goto :goto_0

    :cond_0
    const/4 v0, 0x0

    :goto_0
    move-object v5, v0

    .line 1272
    .local v5, "currentTask":Lcom/droidninja/imageeditengine/views/cropimage/BitmapCroppingWorkerTask;
    const/4 v0, 0x1

    if-eqz v5, :cond_1

    .line 1274
    invoke-virtual {v5, v0}, Lcom/droidninja/imageeditengine/views/cropimage/BitmapCroppingWorkerTask;->cancel(Z)Z

    .line 1277
    :cond_1
    sget-object v1, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView$RequestSizeOptions;->NONE:Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView$RequestSizeOptions;

    if-eq v14, v1, :cond_2

    move/from16 v10, p1

    goto :goto_1

    :cond_2
    const/4 v10, 0x0

    .line 1278
    .end local p1    # "reqWidth":I
    .local v10, "reqWidth":I
    :goto_1
    sget-object v1, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView$RequestSizeOptions;->NONE:Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView$RequestSizeOptions;

    if-eq v14, v1, :cond_3

    move/from16 v11, p2

    goto :goto_2

    :cond_3
    const/4 v11, 0x0

    .line 1280
    .end local p2    # "reqHeight":I
    .local v11, "reqHeight":I
    :goto_2
    invoke-virtual {v6}, Landroid/graphics/Bitmap;->getWidth()I

    move-result v1

    iget v2, v15, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->mLoadedSampleSize:I

    mul-int v28, v1, v2

    .line 1281
    .local v28, "orgWidth":I
    invoke-virtual {v6}, Landroid/graphics/Bitmap;->getHeight()I

    move-result v1

    iget v2, v15, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->mLoadedSampleSize:I

    mul-int v29, v1, v2

    .line 1282
    .local v29, "orgHeight":I
    iget-object v1, v15, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->mLoadedImageUri:Landroid/net/Uri;

    if-eqz v1, :cond_6

    if-gt v2, v0, :cond_5

    sget-object v0, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView$RequestSizeOptions;->SAMPLING:Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView$RequestSizeOptions;

    if-ne v14, v0, :cond_4

    goto :goto_3

    :cond_4
    move-object/from16 v32, v5

    move-object/from16 v33, v6

    move-object v1, v15

    goto :goto_4

    .line 1284
    :cond_5
    :goto_3
    new-instance v1, Ljava/lang/ref/WeakReference;

    new-instance v12, Lcom/droidninja/imageeditengine/views/cropimage/BitmapCroppingWorkerTask;

    move-object v0, v12

    iget-object v2, v15, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->mLoadedImageUri:Landroid/net/Uri;

    .line 1289
    invoke-virtual/range {p0 .. p0}, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->getCropPoints()[F

    move-result-object v3

    iget v4, v15, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->mDegreesRotated:I

    iget-object v7, v15, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->mCropOverlayView:Lcom/droidninja/imageeditengine/views/cropimage/IEECropOverlayView;

    .line 1293
    invoke-virtual {v7}, Lcom/droidninja/imageeditengine/views/cropimage/IEECropOverlayView;->isFixAspectRatio()Z

    move-result v7

    iget-object v8, v15, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->mCropOverlayView:Lcom/droidninja/imageeditengine/views/cropimage/IEECropOverlayView;

    .line 1294
    invoke-virtual {v8}, Lcom/droidninja/imageeditengine/views/cropimage/IEECropOverlayView;->getAspectRatioX()I

    move-result v8

    iget-object v9, v15, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->mCropOverlayView:Lcom/droidninja/imageeditengine/views/cropimage/IEECropOverlayView;

    .line 1295
    invoke-virtual {v9}, Lcom/droidninja/imageeditengine/views/cropimage/IEECropOverlayView;->getAspectRatioY()I

    move-result v9

    iget-boolean v13, v15, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->mFlipHorizontally:Z

    move-object/from16 v30, v12

    move v12, v13

    iget-boolean v13, v15, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->mFlipVertically:Z

    move-object/from16 v31, v1

    move-object/from16 v1, p0

    move-object/from16 v32, v5

    .end local v5    # "currentTask":Lcom/droidninja/imageeditengine/views/cropimage/BitmapCroppingWorkerTask;
    .local v32, "currentTask":Lcom/droidninja/imageeditengine/views/cropimage/BitmapCroppingWorkerTask;
    move/from16 v5, v28

    move-object/from16 v33, v6

    .end local v6    # "bitmap":Landroid/graphics/Bitmap;
    .local v33, "bitmap":Landroid/graphics/Bitmap;
    move/from16 v6, v29

    move-object/from16 v14, p3

    move-object/from16 v15, p4

    move-object/from16 v16, p5

    move/from16 v17, p6

    invoke-direct/range {v0 .. v17}, Lcom/droidninja/imageeditengine/views/cropimage/BitmapCroppingWorkerTask;-><init>(Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;Landroid/net/Uri;[FIIIZIIIIZZLcom/droidninja/imageeditengine/views/cropimage/IEECropImageView$RequestSizeOptions;Landroid/net/Uri;Landroid/graphics/Bitmap$CompressFormat;I)V

    move-object/from16 v1, v30

    move-object/from16 v0, v31

    invoke-direct {v0, v1}, Ljava/lang/ref/WeakReference;-><init>(Ljava/lang/Object;)V

    move-object/from16 v1, p0

    iput-object v0, v1, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->mBitmapCroppingWorkerTask:Ljava/lang/ref/WeakReference;

    goto :goto_5

    .line 1282
    .end local v32    # "currentTask":Lcom/droidninja/imageeditengine/views/cropimage/BitmapCroppingWorkerTask;
    .end local v33    # "bitmap":Landroid/graphics/Bitmap;
    .restart local v5    # "currentTask":Lcom/droidninja/imageeditengine/views/cropimage/BitmapCroppingWorkerTask;
    .restart local v6    # "bitmap":Landroid/graphics/Bitmap;
    :cond_6
    move-object/from16 v32, v5

    move-object/from16 v33, v6

    move-object v1, v15

    .line 1305
    .end local v5    # "currentTask":Lcom/droidninja/imageeditengine/views/cropimage/BitmapCroppingWorkerTask;
    .end local v6    # "bitmap":Landroid/graphics/Bitmap;
    .restart local v32    # "currentTask":Lcom/droidninja/imageeditengine/views/cropimage/BitmapCroppingWorkerTask;
    .restart local v33    # "bitmap":Landroid/graphics/Bitmap;
    :goto_4
    new-instance v0, Ljava/lang/ref/WeakReference;

    new-instance v2, Lcom/droidninja/imageeditengine/views/cropimage/BitmapCroppingWorkerTask;

    .line 1310
    invoke-virtual/range {p0 .. p0}, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->getCropPoints()[F

    move-result-object v15

    iget v3, v1, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->mDegreesRotated:I

    iget-object v4, v1, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->mCropOverlayView:Lcom/droidninja/imageeditengine/views/cropimage/IEECropOverlayView;

    .line 1312
    invoke-virtual {v4}, Lcom/droidninja/imageeditengine/views/cropimage/IEECropOverlayView;->isFixAspectRatio()Z

    move-result v17

    iget-object v4, v1, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->mCropOverlayView:Lcom/droidninja/imageeditengine/views/cropimage/IEECropOverlayView;

    .line 1313
    invoke-virtual {v4}, Lcom/droidninja/imageeditengine/views/cropimage/IEECropOverlayView;->getAspectRatioX()I

    move-result v18

    iget-object v4, v1, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->mCropOverlayView:Lcom/droidninja/imageeditengine/views/cropimage/IEECropOverlayView;

    .line 1314
    invoke-virtual {v4}, Lcom/droidninja/imageeditengine/views/cropimage/IEECropOverlayView;->getAspectRatioY()I

    move-result v19

    iget-boolean v4, v1, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->mFlipHorizontally:Z

    iget-boolean v5, v1, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->mFlipVertically:Z

    move-object v12, v2

    move-object/from16 v13, p0

    move-object/from16 v14, v33

    move/from16 v16, v3

    move/from16 v20, v10

    move/from16 v21, v11

    move/from16 v22, v4

    move/from16 v23, v5

    move-object/from16 v24, p3

    move-object/from16 v25, p4

    move-object/from16 v26, p5

    move/from16 v27, p6

    invoke-direct/range {v12 .. v27}, Lcom/droidninja/imageeditengine/views/cropimage/BitmapCroppingWorkerTask;-><init>(Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;Landroid/graphics/Bitmap;[FIZIIIIZZLcom/droidninja/imageeditengine/views/cropimage/IEECropImageView$RequestSizeOptions;Landroid/net/Uri;Landroid/graphics/Bitmap$CompressFormat;I)V

    invoke-direct {v0, v2}, Ljava/lang/ref/WeakReference;-><init>(Ljava/lang/Object;)V

    iput-object v0, v1, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->mBitmapCroppingWorkerTask:Ljava/lang/ref/WeakReference;

    .line 1324
    :goto_5
    iget-object v0, v1, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->mBitmapCroppingWorkerTask:Ljava/lang/ref/WeakReference;

    invoke-virtual {v0}, Ljava/lang/ref/WeakReference;->get()Ljava/lang/Object;

    move-result-object v0

    check-cast v0, Lcom/droidninja/imageeditengine/views/cropimage/BitmapCroppingWorkerTask;

    sget-object v2, Landroid/os/AsyncTask;->THREAD_POOL_EXECUTOR:Ljava/util/concurrent/Executor;

    const/4 v3, 0x0

    new-array v3, v3, [Ljava/lang/Void;

    invoke-virtual {v0, v2, v3}, Lcom/droidninja/imageeditengine/views/cropimage/BitmapCroppingWorkerTask;->executeOnExecutor(Ljava/util/concurrent/Executor;[Ljava/lang/Object;)Landroid/os/AsyncTask;

    .line 1325
    invoke-direct/range {p0 .. p0}, Lcom/droidninja/imageeditengine/views/cropimage/IEECropImageView;->setProgressBarVisibility()V

    goto :goto_6

    .line 1267
    .end local v10    # "reqWidth":I
    .end local v11    # "reqHeight":I
    .end local v28    # "orgWidth":I
    .end local v29    # "orgHeight":I
    .end local v32    # "currentTask":Lcom/droidninja/imageeditengine/views/cropimage/BitmapCroppingWorkerTask;
    .end local v33    # "bitmap":Landroid/graphics/Bitmap;
    .restart local v6    # "bitmap":Landroid/graphics/Bitmap;
    .restart local p1    # "reqWidth":I
    .restart local p2    # "reqHeight":I
    :cond_7
    move-object/from16 v33, v6

    move-object v1, v15

    .end local v6    # "bitmap":Landroid/graphics/Bitmap;
    .restart local v33    # "bitmap":Landroid/graphics/Bitmap;
    move/from16 v10, p1

    move/from16 v11, p2

    .line 1327
    .end local p1    # "reqWidth":I
    .end local p2    # "reqHeight":I
    .restart local v10    # "reqWidth":I
    .restart local v11    # "reqHeight":I
    :goto_6
    return-void
.end method
