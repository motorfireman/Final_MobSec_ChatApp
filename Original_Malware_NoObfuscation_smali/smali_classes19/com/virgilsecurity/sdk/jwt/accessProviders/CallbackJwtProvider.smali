.class public Lcom/virgilsecurity/sdk/jwt/accessProviders/CallbackJwtProvider;
.super Ljava/lang/Object;
.source "CallbackJwtProvider.java"

# interfaces
.implements Lcom/virgilsecurity/sdk/jwt/contract/AccessTokenProvider;


# annotations
.annotation system Ldalvik/annotation/MemberClasses;
    value = {
        Lcom/virgilsecurity/sdk/jwt/accessProviders/CallbackJwtProvider$GetTokenCallback;
    }
.end annotation


# instance fields
.field private getTokenCallback:Lcom/virgilsecurity/sdk/jwt/accessProviders/CallbackJwtProvider$GetTokenCallback;


# direct methods
.method public constructor <init>(Lcom/virgilsecurity/sdk/jwt/accessProviders/CallbackJwtProvider$GetTokenCallback;)V
    .locals 0
    .param p1, "getTokenCallback"    # Lcom/virgilsecurity/sdk/jwt/accessProviders/CallbackJwtProvider$GetTokenCallback;

    .line 70
    invoke-direct {p0}, Ljava/lang/Object;-><init>()V

    .line 71
    iput-object p1, p0, Lcom/virgilsecurity/sdk/jwt/accessProviders/CallbackJwtProvider;->getTokenCallback:Lcom/virgilsecurity/sdk/jwt/accessProviders/CallbackJwtProvider$GetTokenCallback;

    .line 72
    return-void
.end method


# virtual methods
.method public getToken(Lcom/virgilsecurity/sdk/jwt/TokenContext;)Lcom/virgilsecurity/sdk/jwt/contract/AccessToken;
    .locals 2
    .param p1, "tokenContext"    # Lcom/virgilsecurity/sdk/jwt/TokenContext;

    .line 76
    const-string v0, "CallbackJwtProvider -> \'tokenContext\' should not be null"

    invoke-static {p1, v0}, Lcom/virgilsecurity/common/util/Validator;->checkNullAgrument(Ljava/lang/Object;Ljava/lang/String;)V

    .line 78
    iget-object v0, p0, Lcom/virgilsecurity/sdk/jwt/accessProviders/CallbackJwtProvider;->getTokenCallback:Lcom/virgilsecurity/sdk/jwt/accessProviders/CallbackJwtProvider$GetTokenCallback;

    const-string v1, "CallbackJwtProvider -> set getTokenCallback first"

    invoke-static {v0, v1}, Lcom/virgilsecurity/common/util/Validator;->checkNullAgrument(Ljava/lang/Object;Ljava/lang/String;)V

    .line 81
    new-instance v0, Lcom/virgilsecurity/sdk/jwt/Jwt;

    iget-object v1, p0, Lcom/virgilsecurity/sdk/jwt/accessProviders/CallbackJwtProvider;->getTokenCallback:Lcom/virgilsecurity/sdk/jwt/accessProviders/CallbackJwtProvider$GetTokenCallback;

    invoke-interface {v1, p1}, Lcom/virgilsecurity/sdk/jwt/accessProviders/CallbackJwtProvider$GetTokenCallback;->onGetToken(Lcom/virgilsecurity/sdk/jwt/TokenContext;)Ljava/lang/String;

    move-result-object v1

    invoke-direct {v0, v1}, Lcom/virgilsecurity/sdk/jwt/Jwt;-><init>(Ljava/lang/String;)V

    return-object v0
.end method

.method public setGetTokenCallback(Lcom/virgilsecurity/sdk/jwt/accessProviders/CallbackJwtProvider$GetTokenCallback;)V
    .locals 1
    .param p1, "getTokenCallback"    # Lcom/virgilsecurity/sdk/jwt/accessProviders/CallbackJwtProvider$GetTokenCallback;

    .line 90
    const-string v0, "CallbackJwtProvider -> \'getTokenCallback\' should not be null"

    invoke-static {p1, v0}, Lcom/virgilsecurity/common/util/Validator;->checkNullAgrument(Ljava/lang/Object;Ljava/lang/String;)V

    .line 93
    iput-object p1, p0, Lcom/virgilsecurity/sdk/jwt/accessProviders/CallbackJwtProvider;->getTokenCallback:Lcom/virgilsecurity/sdk/jwt/accessProviders/CallbackJwtProvider$GetTokenCallback;

    .line 94
    return-void
.end method
