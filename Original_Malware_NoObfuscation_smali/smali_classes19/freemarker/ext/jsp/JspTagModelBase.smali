.class Lfreemarker/ext/jsp/JspTagModelBase;
.super Ljava/lang/Object;
.source "JspTagModelBase.java"


# static fields
.field static synthetic class$java$lang$ClassCastException:Ljava/lang/Class;

.field static synthetic class$java$lang$IllegalArgumentException:Ljava/lang/Class;

.field static synthetic class$java$lang$IndexOutOfBoundsException:Ljava/lang/Class;

.field static synthetic class$java$lang$NullPointerException:Ljava/lang/Class;

.field static synthetic class$java$lang$Object:Ljava/lang/Class;

.field static synthetic class$java$lang$String:Ljava/lang/Class;


# instance fields
.field private final dynaSetter:Ljava/lang/reflect/Method;

.field private final propertySetters:Ljava/util/Map;

.field private final tagClass:Ljava/lang/Class;

.field protected final tagName:Ljava/lang/String;


# direct methods
.method protected constructor <init>(Ljava/lang/String;Ljava/lang/Class;)V
    .locals 7
    .param p1, "tagName"    # Ljava/lang/String;
    .param p2, "tagClass"    # Ljava/lang/Class;
    .annotation system Ldalvik/annotation/Throws;
        value = {
            Ljava/beans/IntrospectionException;
        }
    .end annotation

    .line 50
    invoke-direct {p0}, Ljava/lang/Object;-><init>()V

    .line 48
    new-instance v0, Ljava/util/HashMap;

    invoke-direct {v0}, Ljava/util/HashMap;-><init>()V

    iput-object v0, p0, Lfreemarker/ext/jsp/JspTagModelBase;->propertySetters:Ljava/util/Map;

    .line 51
    iput-object p1, p0, Lfreemarker/ext/jsp/JspTagModelBase;->tagName:Ljava/lang/String;

    .line 52
    iput-object p2, p0, Lfreemarker/ext/jsp/JspTagModelBase;->tagClass:Ljava/lang/Class;

    .line 53
    invoke-static {p2}, Ljava/beans/Introspector;->getBeanInfo(Ljava/lang/Class;)Ljava/beans/BeanInfo;

    move-result-object v0

    .line 54
    .local v0, "bi":Ljava/beans/BeanInfo;
    invoke-interface {v0}, Ljava/beans/BeanInfo;->getPropertyDescriptors()[Ljava/beans/PropertyDescriptor;

    move-result-object v1

    .line 55
    .local v1, "pda":[Ljava/beans/PropertyDescriptor;
    const/4 v2, 0x0

    .local v2, "i":I
    :goto_0
    array-length v3, v1

    if-ge v2, v3, :cond_1

    .line 56
    aget-object v3, v1, v2

    .line 57
    .local v3, "pd":Ljava/beans/PropertyDescriptor;
    invoke-virtual {v3}, Ljava/beans/PropertyDescriptor;->getWriteMethod()Ljava/lang/reflect/Method;

    move-result-object v4

    .line 58
    .local v4, "m":Ljava/lang/reflect/Method;
    if-eqz v4, :cond_0

    .line 59
    iget-object v5, p0, Lfreemarker/ext/jsp/JspTagModelBase;->propertySetters:Ljava/util/Map;

    invoke-virtual {v3}, Ljava/beans/PropertyDescriptor;->getName()Ljava/lang/String;

    move-result-object v6

    invoke-interface {v5, v6, v4}, Ljava/util/Map;->put(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;

    .line 55
    .end local v3    # "pd":Ljava/beans/PropertyDescriptor;
    .end local v4    # "m":Ljava/lang/reflect/Method;
    :cond_0
    add-int/lit8 v2, v2, 0x1

    goto :goto_0

    .line 66
    .end local v2    # "i":I
    :cond_1
    :try_start_0
    const-string v2, "setDynamicAttribute"

    const/4 v3, 0x3

    new-array v3, v3, [Ljava/lang/Class;

    const/4 v4, 0x0

    sget-object v5, Lfreemarker/ext/jsp/JspTagModelBase;->class$java$lang$String:Ljava/lang/Class;
    :try_end_0
    .catch Ljava/lang/NoSuchMethodException; {:try_start_0 .. :try_end_0} :catch_0

    const-string v6, "java.lang.String"

    if-nez v5, :cond_2

    .line 67
    :try_start_1
    invoke-static {v6}, Lfreemarker/ext/jsp/JspTagModelBase;->class$(Ljava/lang/String;)Ljava/lang/Class;

    move-result-object v5

    sput-object v5, Lfreemarker/ext/jsp/JspTagModelBase;->class$java$lang$String:Ljava/lang/Class;

    goto :goto_1

    :cond_2
    nop

    :goto_1
    aput-object v5, v3, v4

    sget-object v4, Lfreemarker/ext/jsp/JspTagModelBase;->class$java$lang$String:Ljava/lang/Class;

    if-nez v4, :cond_3

    invoke-static {v6}, Lfreemarker/ext/jsp/JspTagModelBase;->class$(Ljava/lang/String;)Ljava/lang/Class;

    move-result-object v4

    sput-object v4, Lfreemarker/ext/jsp/JspTagModelBase;->class$java$lang$String:Ljava/lang/Class;

    :cond_3
    const/4 v5, 0x1

    aput-object v4, v3, v5

    const/4 v4, 0x2

    sget-object v5, Lfreemarker/ext/jsp/JspTagModelBase;->class$java$lang$Object:Ljava/lang/Class;

    if-nez v5, :cond_4

    const-string v5, "java.lang.Object"

    invoke-static {v5}, Lfreemarker/ext/jsp/JspTagModelBase;->class$(Ljava/lang/String;)Ljava/lang/Class;

    move-result-object v5

    sput-object v5, Lfreemarker/ext/jsp/JspTagModelBase;->class$java$lang$Object:Ljava/lang/Class;

    :cond_4
    aput-object v5, v3, v4

    .line 66
    invoke-virtual {p2, v2, v3}, Ljava/lang/Class;->getMethod(Ljava/lang/String;[Ljava/lang/Class;)Ljava/lang/reflect/Method;

    move-result-object v2
    :try_end_1
    .catch Ljava/lang/NoSuchMethodException; {:try_start_1 .. :try_end_1} :catch_0

    .line 71
    .local v2, "dynaSetter":Ljava/lang/reflect/Method;
    goto :goto_2

    .line 69
    .end local v2    # "dynaSetter":Ljava/lang/reflect/Method;
    :catch_0
    move-exception v2

    .line 70
    .local v2, "nsme":Ljava/lang/NoSuchMethodException;
    const/4 v3, 0x0

    move-object v2, v3

    .line 72
    .local v2, "dynaSetter":Ljava/lang/reflect/Method;
    :goto_2
    iput-object v2, p0, Lfreemarker/ext/jsp/JspTagModelBase;->dynaSetter:Ljava/lang/reflect/Method;

    .line 73
    return-void
.end method

.method static synthetic class$(Ljava/lang/String;)Ljava/lang/Class;
    .locals 2
    .param p0, "x0"    # Ljava/lang/String;

    .line 67
    :try_start_0
    invoke-static {p0}, Ljava/lang/Class;->forName(Ljava/lang/String;)Ljava/lang/Class;

    move-result-object v0
    :try_end_0
    .catch Ljava/lang/ClassNotFoundException; {:try_start_0 .. :try_end_0} :catch_0

    return-object v0

    :catch_0
    move-exception v0

    new-instance v1, Ljava/lang/NoClassDefFoundError;

    invoke-direct {v1}, Ljava/lang/NoClassDefFoundError;-><init>()V

    invoke-virtual {v1, v0}, Ljava/lang/NoClassDefFoundError;->initCause(Ljava/lang/Throwable;)Ljava/lang/Throwable;

    move-result-object v0

    throw v0
.end method

.method private isCommonRuntimeException(Ljava/lang/RuntimeException;)Z
    .locals 2
    .param p1, "e"    # Ljava/lang/RuntimeException;

    .line 164
    invoke-virtual {p1}, Ljava/lang/Object;->getClass()Ljava/lang/Class;

    move-result-object v0

    .line 167
    .local v0, "eClass":Ljava/lang/Class;
    sget-object v1, Lfreemarker/ext/jsp/JspTagModelBase;->class$java$lang$NullPointerException:Ljava/lang/Class;

    if-nez v1, :cond_0

    const-string v1, "java.lang.NullPointerException"

    invoke-static {v1}, Lfreemarker/ext/jsp/JspTagModelBase;->class$(Ljava/lang/String;)Ljava/lang/Class;

    move-result-object v1

    sput-object v1, Lfreemarker/ext/jsp/JspTagModelBase;->class$java$lang$NullPointerException:Ljava/lang/Class;

    :cond_0
    if-eq v0, v1, :cond_5

    sget-object v1, Lfreemarker/ext/jsp/JspTagModelBase;->class$java$lang$IllegalArgumentException:Ljava/lang/Class;

    if-nez v1, :cond_1

    .line 168
    const-string v1, "java.lang.IllegalArgumentException"

    invoke-static {v1}, Lfreemarker/ext/jsp/JspTagModelBase;->class$(Ljava/lang/String;)Ljava/lang/Class;

    move-result-object v1

    sput-object v1, Lfreemarker/ext/jsp/JspTagModelBase;->class$java$lang$IllegalArgumentException:Ljava/lang/Class;

    goto :goto_0

    :cond_1
    nop

    :goto_0
    if-eq v0, v1, :cond_5

    sget-object v1, Lfreemarker/ext/jsp/JspTagModelBase;->class$java$lang$ClassCastException:Ljava/lang/Class;

    if-nez v1, :cond_2

    .line 169
    const-string v1, "java.lang.ClassCastException"

    invoke-static {v1}, Lfreemarker/ext/jsp/JspTagModelBase;->class$(Ljava/lang/String;)Ljava/lang/Class;

    move-result-object v1

    sput-object v1, Lfreemarker/ext/jsp/JspTagModelBase;->class$java$lang$ClassCastException:Ljava/lang/Class;

    goto :goto_1

    :cond_2
    nop

    :goto_1
    if-eq v0, v1, :cond_5

    sget-object v1, Lfreemarker/ext/jsp/JspTagModelBase;->class$java$lang$IndexOutOfBoundsException:Ljava/lang/Class;

    if-nez v1, :cond_3

    .line 170
    const-string v1, "java.lang.IndexOutOfBoundsException"

    invoke-static {v1}, Lfreemarker/ext/jsp/JspTagModelBase;->class$(Ljava/lang/String;)Ljava/lang/Class;

    move-result-object v1

    sput-object v1, Lfreemarker/ext/jsp/JspTagModelBase;->class$java$lang$IndexOutOfBoundsException:Ljava/lang/Class;

    goto :goto_2

    :cond_3
    nop

    :goto_2
    if-ne v0, v1, :cond_4

    goto :goto_3

    :cond_4
    const/4 v1, 0x0

    goto :goto_4

    :cond_5
    :goto_3
    const/4 v1, 0x1

    :goto_4
    return v1
.end method


# virtual methods
.method getTagInstance()Ljava/lang/Object;
    .locals 1
    .annotation system Ldalvik/annotation/Throws;
        value = {
            Ljava/lang/IllegalAccessException;,
            Ljava/lang/InstantiationException;
        }
    .end annotation

    .line 76
    iget-object v0, p0, Lfreemarker/ext/jsp/JspTagModelBase;->tagClass:Ljava/lang/Class;

    invoke-virtual {v0}, Ljava/lang/Class;->newInstance()Ljava/lang/Object;

    move-result-object v0

    return-object v0
.end method

.method setupTag(Ljava/lang/Object;Ljava/util/Map;Lfreemarker/template/ObjectWrapper;)V
    .locals 22
    .param p1, "tag"    # Ljava/lang/Object;
    .param p2, "args"    # Ljava/util/Map;
    .param p3, "wrapper"    # Lfreemarker/template/ObjectWrapper;
    .annotation system Ldalvik/annotation/Throws;
        value = {
            Lfreemarker/template/TemplateModelException;,
            Ljava/lang/reflect/InvocationTargetException;,
            Ljava/lang/IllegalAccessException;
        }
    .end annotation

    .line 85
    move-object/from16 v1, p0

    move-object/from16 v2, p1

    move-object/from16 v3, p3

    if-eqz p2, :cond_7

    invoke-interface/range {p2 .. p2}, Ljava/util/Map;->isEmpty()Z

    move-result v0

    if-nez v0, :cond_7

    .line 86
    instance-of v0, v3, Lfreemarker/template/ObjectWrapperAndUnwrapper;

    if-eqz v0, :cond_0

    move-object v0, v3

    check-cast v0, Lfreemarker/template/ObjectWrapperAndUnwrapper;

    goto :goto_0

    .line 88
    :cond_0
    invoke-static {}, Lfreemarker/ext/beans/BeansWrapper;->getDefaultInstance()Lfreemarker/ext/beans/BeansWrapper;

    move-result-object v0

    :goto_0
    move-object v4, v0

    .line 89
    .local v4, "unwrapper":Lfreemarker/template/ObjectWrapperAndUnwrapper;
    const/4 v5, 0x1

    new-array v6, v5, [Ljava/lang/Object;

    .line 90
    .local v6, "argArray":[Ljava/lang/Object;
    invoke-interface/range {p2 .. p2}, Ljava/util/Map;->entrySet()Ljava/util/Set;

    move-result-object v0

    invoke-interface {v0}, Ljava/util/Set;->iterator()Ljava/util/Iterator;

    move-result-object v7

    .local v7, "iter":Ljava/util/Iterator;
    :goto_1
    invoke-interface {v7}, Ljava/util/Iterator;->hasNext()Z

    move-result v0

    if-eqz v0, :cond_7

    .line 92
    invoke-interface {v7}, Ljava/util/Iterator;->next()Ljava/lang/Object;

    move-result-object v0

    move-object v8, v0

    check-cast v8, Ljava/util/Map$Entry;

    .line 93
    .local v8, "entry":Ljava/util/Map$Entry;
    invoke-interface {v8}, Ljava/util/Map$Entry;->getValue()Ljava/lang/Object;

    move-result-object v0

    check-cast v0, Lfreemarker/template/TemplateModel;

    invoke-interface {v4, v0}, Lfreemarker/template/ObjectWrapperAndUnwrapper;->unwrap(Lfreemarker/template/TemplateModel;)Ljava/lang/Object;

    move-result-object v9

    .line 94
    .local v9, "arg":Ljava/lang/Object;
    const/4 v10, 0x0

    aput-object v9, v6, v10

    .line 95
    invoke-interface {v8}, Ljava/util/Map$Entry;->getKey()Ljava/lang/Object;

    move-result-object v11

    .line 96
    .local v11, "paramName":Ljava/lang/Object;
    iget-object v0, v1, Lfreemarker/ext/jsp/JspTagModelBase;->propertySetters:Ljava/util/Map;

    invoke-interface {v0, v11}, Ljava/util/Map;->get(Ljava/lang/Object;)Ljava/lang/Object;

    move-result-object v0

    move-object v12, v0

    check-cast v12, Ljava/lang/reflect/Method;

    .line 97
    .local v12, "setterMethod":Ljava/lang/reflect/Method;
    const/4 v13, 0x0

    const/4 v14, 0x2

    const/4 v15, 0x3

    if-nez v12, :cond_2

    .line 98
    iget-object v0, v1, Lfreemarker/ext/jsp/JspTagModelBase;->dynaSetter:Ljava/lang/reflect/Method;

    if-eqz v0, :cond_1

    .line 104
    new-array v15, v15, [Ljava/lang/Object;

    aput-object v13, v15, v10

    aput-object v11, v15, v5

    aget-object v10, v6, v10

    aput-object v10, v15, v14

    invoke-virtual {v0, v2, v15}, Ljava/lang/reflect/Method;->invoke(Ljava/lang/Object;[Ljava/lang/Object;)Ljava/lang/Object;

    goto :goto_2

    .line 99
    :cond_1
    new-instance v0, Lfreemarker/template/TemplateModelException;

    new-instance v5, Ljava/lang/StringBuffer;

    invoke-direct {v5}, Ljava/lang/StringBuffer;-><init>()V

    const-string v10, "Unknown property "

    invoke-virtual {v5, v10}, Ljava/lang/StringBuffer;->append(Ljava/lang/String;)Ljava/lang/StringBuffer;

    move-result-object v5

    .line 100
    invoke-virtual {v11}, Ljava/lang/Object;->toString()Ljava/lang/String;

    move-result-object v10

    invoke-static {v10}, Lfreemarker/template/utility/StringUtil;->jQuote(Ljava/lang/String;)Ljava/lang/String;

    move-result-object v10

    invoke-virtual {v5, v10}, Ljava/lang/StringBuffer;->append(Ljava/lang/String;)Ljava/lang/StringBuffer;

    move-result-object v5

    const-string v10, " on instance of "

    invoke-virtual {v5, v10}, Ljava/lang/StringBuffer;->append(Ljava/lang/String;)Ljava/lang/StringBuffer;

    move-result-object v5

    iget-object v10, v1, Lfreemarker/ext/jsp/JspTagModelBase;->tagClass:Ljava/lang/Class;

    .line 101
    invoke-virtual {v10}, Ljava/lang/Class;->getName()Ljava/lang/String;

    move-result-object v10

    invoke-virtual {v5, v10}, Ljava/lang/StringBuffer;->append(Ljava/lang/String;)Ljava/lang/StringBuffer;

    move-result-object v5

    invoke-virtual {v5}, Ljava/lang/StringBuffer;->toString()Ljava/lang/String;

    move-result-object v5

    invoke-direct {v0, v5}, Lfreemarker/template/TemplateModelException;-><init>(Ljava/lang/String;)V

    throw v0

    .line 108
    :cond_2
    instance-of v0, v9, Ljava/math/BigDecimal;

    if-eqz v0, :cond_3

    .line 109
    move-object v0, v9

    check-cast v0, Ljava/math/BigDecimal;

    .line 110
    invoke-virtual {v12}, Ljava/lang/reflect/Method;->getParameterTypes()[Ljava/lang/Class;

    move-result-object v16

    aget-object v13, v16, v10

    .line 109
    invoke-static {v0, v13}, Lfreemarker/ext/beans/BeansWrapper;->coerceBigDecimal(Ljava/math/BigDecimal;Ljava/lang/Class;)Ljava/lang/Object;

    move-result-object v0

    aput-object v0, v6, v10

    .line 113
    :cond_3
    :try_start_0
    invoke-virtual {v12, v2, v6}, Ljava/lang/reflect/Method;->invoke(Ljava/lang/Object;[Ljava/lang/Object;)Ljava/lang/Object;
    :try_end_0
    .catch Ljava/lang/Exception; {:try_start_0 .. :try_end_0} :catch_0

    .line 138
    nop

    .line 140
    .end local v8    # "entry":Ljava/util/Map$Entry;
    .end local v9    # "arg":Ljava/lang/Object;
    .end local v11    # "paramName":Ljava/lang/Object;
    .end local v12    # "setterMethod":Ljava/lang/reflect/Method;
    :goto_2
    goto/16 :goto_1

    .line 114
    .restart local v8    # "entry":Ljava/util/Map$Entry;
    .restart local v9    # "arg":Ljava/lang/Object;
    .restart local v11    # "paramName":Ljava/lang/Object;
    .restart local v12    # "setterMethod":Ljava/lang/reflect/Method;
    :catch_0
    move-exception v0

    move-object v13, v0

    move-object v0, v13

    .line 115
    .local v0, "e":Ljava/lang/Exception;
    invoke-virtual {v12}, Ljava/lang/reflect/Method;->getParameterTypes()[Ljava/lang/Class;

    move-result-object v13

    aget-object v13, v13, v10

    .line 116
    .local v13, "setterType":Ljava/lang/Class;
    new-instance v15, Lfreemarker/core/_ErrorDescriptionBuilder;

    const/4 v14, 0x6

    new-array v5, v14, [Ljava/lang/Object;

    const-string v19, "Failed to set JSP tag parameter "

    aput-object v19, v5, v10

    new-instance v14, Lfreemarker/core/_DelayedJQuote;

    invoke-direct {v14, v11}, Lfreemarker/core/_DelayedJQuote;-><init>(Ljava/lang/Object;)V

    const/16 v18, 0x1

    aput-object v14, v5, v18

    const-string v14, " (declared type: "

    const/16 v17, 0x2

    aput-object v14, v5, v17

    new-instance v14, Ljava/lang/StringBuffer;

    invoke-direct {v14}, Ljava/lang/StringBuffer;-><init>()V

    new-instance v10, Lfreemarker/core/_DelayedShortClassName;

    invoke-direct {v10, v13}, Lfreemarker/core/_DelayedShortClassName;-><init>(Ljava/lang/Class;)V

    invoke-virtual {v14, v10}, Ljava/lang/StringBuffer;->append(Ljava/lang/Object;)Ljava/lang/StringBuffer;

    move-result-object v10

    const-string v14, ", actual value\'s type: "

    invoke-virtual {v10, v14}, Ljava/lang/StringBuffer;->append(Ljava/lang/String;)Ljava/lang/StringBuffer;

    move-result-object v10

    invoke-virtual {v10}, Ljava/lang/StringBuffer;->toString()Ljava/lang/String;

    move-result-object v10

    const/4 v14, 0x3

    aput-object v10, v5, v14

    const/4 v10, 0x0

    aget-object v14, v6, v10

    if-eqz v14, :cond_4

    new-instance v14, Lfreemarker/core/_DelayedShortClassName;

    aget-object v21, v6, v10

    .line 121
    invoke-virtual/range {v21 .. v21}, Ljava/lang/Object;->getClass()Ljava/lang/Class;

    move-result-object v10

    invoke-direct {v14, v10}, Lfreemarker/core/_DelayedShortClassName;-><init>(Ljava/lang/Class;)V

    goto :goto_3

    :cond_4
    const-string v14, "Null"

    :goto_3
    const/4 v10, 0x4

    aput-object v14, v5, v10

    const-string v14, "). See cause exception for the more specific cause..."

    const/16 v21, 0x5

    aput-object v14, v5, v21

    invoke-direct {v15, v5}, Lfreemarker/core/_ErrorDescriptionBuilder;-><init>([Ljava/lang/Object;)V

    move-object v5, v15

    .line 124
    .local v5, "desc":Lfreemarker/core/_ErrorDescriptionBuilder;
    instance-of v14, v0, Ljava/lang/IllegalArgumentException;

    if-eqz v14, :cond_6

    sget-object v14, Lfreemarker/ext/jsp/JspTagModelBase;->class$java$lang$String:Ljava/lang/Class;

    if-nez v14, :cond_5

    const-string v14, "java.lang.String"

    invoke-static {v14}, Lfreemarker/ext/jsp/JspTagModelBase;->class$(Ljava/lang/String;)Ljava/lang/Class;

    move-result-object v14

    sput-object v14, Lfreemarker/ext/jsp/JspTagModelBase;->class$java$lang$String:Ljava/lang/Class;

    :cond_5
    invoke-virtual {v13, v14}, Ljava/lang/Class;->isAssignableFrom(Ljava/lang/Class;)Z

    move-result v14

    if-nez v14, :cond_6

    const/4 v14, 0x0

    aget-object v15, v6, v14

    if-eqz v15, :cond_6

    aget-object v15, v6, v14

    instance-of v15, v15, Ljava/lang/String;

    if-eqz v15, :cond_6

    .line 126
    const/4 v15, 0x7

    new-array v15, v15, [Ljava/lang/Object;

    const-string v20, "This problem is often caused by unnecessary parameter quotation. Paramters aren\'t quoted in FTL, similarly as they aren\'t quoted in most languages. For example, these parameter assignments are wrong: "

    aput-object v20, v15, v14

    const-string v14, "<@my.tag p1=\"true\" p2=\"10\" p3=\"${someVariable}\" p4=\"${x+1}\" />"

    const/16 v18, 0x1

    aput-object v14, v15, v18

    const-string v14, ". The correct form is: "

    const/16 v17, 0x2

    aput-object v14, v15, v17

    const-string v14, "<@my.tag p1=true p2=10 p3=someVariable p4=x+1 />"

    const/16 v16, 0x3

    aput-object v14, v15, v16

    const-string v14, ". Only string literals are quoted (regardless of where they occur): "

    aput-object v14, v15, v10

    const-string v10, "<@my.box style=\"info\" message=\"Hello ${name}!\" width=200 />"

    aput-object v10, v15, v21

    const-string v10, "."

    const/4 v14, 0x6

    aput-object v10, v15, v14

    invoke-virtual {v5, v15}, Lfreemarker/core/_ErrorDescriptionBuilder;->tip([Ljava/lang/Object;)Lfreemarker/core/_ErrorDescriptionBuilder;

    .line 137
    :cond_6
    new-instance v10, Lfreemarker/core/_TemplateModelException;

    const/4 v14, 0x0

    invoke-direct {v10, v0, v14, v5}, Lfreemarker/core/_TemplateModelException;-><init>(Ljava/lang/Throwable;Lfreemarker/core/Environment;Lfreemarker/core/_ErrorDescriptionBuilder;)V

    throw v10

    .line 142
    .end local v0    # "e":Ljava/lang/Exception;
    .end local v4    # "unwrapper":Lfreemarker/template/ObjectWrapperAndUnwrapper;
    .end local v5    # "desc":Lfreemarker/core/_ErrorDescriptionBuilder;
    .end local v6    # "argArray":[Ljava/lang/Object;
    .end local v7    # "iter":Ljava/util/Iterator;
    .end local v8    # "entry":Ljava/util/Map$Entry;
    .end local v9    # "arg":Ljava/lang/Object;
    .end local v11    # "paramName":Ljava/lang/Object;
    .end local v12    # "setterMethod":Ljava/lang/reflect/Method;
    .end local v13    # "setterType":Ljava/lang/Class;
    :cond_7
    return-void
.end method

.method protected final toTemplateModelExceptionOrRethrow(Ljava/lang/Exception;)Lfreemarker/template/TemplateModelException;
    .locals 5
    .param p1, "e"    # Ljava/lang/Exception;
    .annotation system Ldalvik/annotation/Throws;
        value = {
            Lfreemarker/template/TemplateModelException;
        }
    .end annotation

    .line 145
    instance-of v0, p1, Ljava/lang/RuntimeException;

    if-eqz v0, :cond_1

    move-object v0, p1

    check-cast v0, Ljava/lang/RuntimeException;

    invoke-direct {p0, v0}, Lfreemarker/ext/jsp/JspTagModelBase;->isCommonRuntimeException(Ljava/lang/RuntimeException;)Z

    move-result v0

    if-eqz v0, :cond_0

    goto :goto_0

    .line 146
    :cond_0
    move-object v0, p1

    check-cast v0, Ljava/lang/RuntimeException;

    throw v0

    .line 148
    :cond_1
    :goto_0
    instance-of v0, p1, Lfreemarker/template/TemplateModelException;

    if-nez v0, :cond_3

    .line 151
    instance-of v0, p1, Lfreemarker/ext/jsp/SimpleTagDirectiveModel$TemplateExceptionWrapperJspException;

    if-eqz v0, :cond_2

    .line 152
    invoke-virtual {p1}, Ljava/lang/Exception;->getCause()Ljava/lang/Throwable;

    move-result-object v0

    check-cast v0, Lfreemarker/template/TemplateModelException;

    return-object v0

    .line 154
    :cond_2
    new-instance v0, Lfreemarker/core/_TemplateModelException;

    const/4 v1, 0x3

    new-array v1, v1, [Ljava/lang/Object;

    const/4 v2, 0x0

    const-string v3, "Error while invoking the "

    aput-object v3, v1, v2

    const/4 v2, 0x1

    new-instance v3, Lfreemarker/core/_DelayedJQuote;

    iget-object v4, p0, Lfreemarker/ext/jsp/JspTagModelBase;->tagName:Ljava/lang/String;

    invoke-direct {v3, v4}, Lfreemarker/core/_DelayedJQuote;-><init>(Ljava/lang/Object;)V

    aput-object v3, v1, v2

    const/4 v2, 0x2

    const-string v3, " JSP custom tag; see cause exception"

    aput-object v3, v1, v2

    invoke-direct {v0, p1, v1}, Lfreemarker/core/_TemplateModelException;-><init>(Ljava/lang/Throwable;[Ljava/lang/Object;)V

    return-object v0

    .line 149
    :cond_3
    move-object v0, p1

    check-cast v0, Lfreemarker/template/TemplateModelException;

    throw v0
.end method
