.class public abstract Lrx/Scheduler$Worker;
.super Ljava/lang/Object;
.source "Scheduler.java"

# interfaces
.implements Lrx/Subscription;


# annotations
.annotation system Ldalvik/annotation/EnclosingClass;
    value = Lrx/Scheduler;
.end annotation

.annotation system Ldalvik/annotation/InnerClass;
    accessFlags = 0x409
    name = "Worker"
.end annotation


# direct methods
.method public constructor <init>()V
    .locals 0

    .line 75
    invoke-direct {p0}, Ljava/lang/Object;-><init>()V

    return-void
.end method


# virtual methods
.method public now()J
    .locals 2

    .line 173
    invoke-static {}, Ljava/lang/System;->currentTimeMillis()J

    move-result-wide v0

    return-wide v0
.end method

.method public abstract schedule(Lrx/functions/Action0;)Lrx/Subscription;
.end method

.method public abstract schedule(Lrx/functions/Action0;JLjava/util/concurrent/TimeUnit;)Lrx/Subscription;
.end method

.method public schedulePeriodically(Lrx/functions/Action0;JJLjava/util/concurrent/TimeUnit;)Lrx/Subscription;
    .locals 23
    .param p1, "action"    # Lrx/functions/Action0;
    .param p2, "initialDelay"    # J
    .param p4, "period"    # J
    .param p6, "unit"    # Ljava/util/concurrent/TimeUnit;

    .line 124
    move-wide/from16 v0, p2

    move-object/from16 v2, p6

    move-wide/from16 v3, p4

    invoke-virtual {v2, v3, v4}, Ljava/util/concurrent/TimeUnit;->toNanos(J)J

    move-result-wide v15

    .line 125
    .local v15, "periodInNanos":J
    sget-object v5, Ljava/util/concurrent/TimeUnit;->MILLISECONDS:Ljava/util/concurrent/TimeUnit;

    invoke-virtual/range {p0 .. p0}, Lrx/Scheduler$Worker;->now()J

    move-result-wide v6

    invoke-virtual {v5, v6, v7}, Ljava/util/concurrent/TimeUnit;->toNanos(J)J

    move-result-wide v17

    .line 126
    .local v17, "firstNowNanos":J
    invoke-virtual {v2, v0, v1}, Ljava/util/concurrent/TimeUnit;->toNanos(J)J

    move-result-wide v5

    add-long v19, v17, v5

    .line 128
    .local v19, "firstStartInNanos":J
    new-instance v5, Lrx/internal/subscriptions/SequentialSubscription;

    invoke-direct {v5}, Lrx/internal/subscriptions/SequentialSubscription;-><init>()V

    move-object v13, v5

    .line 129
    .local v13, "first":Lrx/internal/subscriptions/SequentialSubscription;
    new-instance v5, Lrx/internal/subscriptions/SequentialSubscription;

    invoke-direct {v5, v13}, Lrx/internal/subscriptions/SequentialSubscription;-><init>(Lrx/Subscription;)V

    move-object/from16 v21, v5

    .line 131
    .local v21, "mas":Lrx/internal/subscriptions/SequentialSubscription;
    new-instance v22, Lrx/Scheduler$Worker$1;

    move-object/from16 v5, v22

    move-object/from16 v6, p0

    move-wide/from16 v7, v17

    move-wide/from16 v9, v19

    move-object/from16 v11, p1

    move-object/from16 v12, v21

    move-object v3, v13

    .end local v13    # "first":Lrx/internal/subscriptions/SequentialSubscription;
    .local v3, "first":Lrx/internal/subscriptions/SequentialSubscription;
    move-wide v13, v15

    invoke-direct/range {v5 .. v14}, Lrx/Scheduler$Worker$1;-><init>(Lrx/Scheduler$Worker;JJLrx/functions/Action0;Lrx/internal/subscriptions/SequentialSubscription;J)V

    move-object/from16 v4, v22

    .line 163
    .local v4, "recursiveAction":Lrx/functions/Action0;
    move-object/from16 v5, p0

    invoke-virtual {v5, v4, v0, v1, v2}, Lrx/Scheduler$Worker;->schedule(Lrx/functions/Action0;JLjava/util/concurrent/TimeUnit;)Lrx/Subscription;

    move-result-object v6

    invoke-virtual {v3, v6}, Lrx/internal/subscriptions/SequentialSubscription;->replace(Lrx/Subscription;)Z

    .line 164
    return-object v21
.end method
